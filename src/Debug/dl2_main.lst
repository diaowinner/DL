SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    1

************ OBJECT LISTING ************

FILE NAME: D:\用户目录\我的文档\CASIO\fx-9860G SDK\DL2Rev\Chinese-Reader~-\dl2_main.c

SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      dl2_main.c     1    /******************************************************************
      dl2_main.c     2    * DLiterature  v2.1                                               *
      dl2_main.c     3    *******************************************************************
      dl2_main.c     4    *    Copyright 2013 Anderain Lovelace                             *
      dl2_main.c     5    *    anderain.develop@gmail.com                                   *
      dl2_main.c     6    *******************************************************************/
      dl2_main.c     7    
      dl2_main.c     8    #include "dl2_all.h"
      dl2_main.c     9    
      dl2_main.c    10    #define SCR_WIDTH               128
      dl2_main.c    11    #define SCR_HEIGHT              64
      dl2_main.c    12    
      dl2_main.c    13    #define MARK_SIZE               5
      dl2_main.c    14    
      dl2_main.c    15    #define PAGE_MAX                (9999)
      dl2_main.c    16    #define BUFFER_SIZE             (20*1024)
      dl2_main.c    17    
      dl2_main.c    18    word            *       page_offset                     ;
      dl2_main.c    19    uint                    page_size       =       0       ;
      dl2_main.c    20    uint                    page_now        =       0       ;
      dl2_main.c    21    uint                    file_size       =       0       ;
      dl2_main.c    22    uint                    file_pos        =       0       ;
      dl2_main.c    23    const char      *       file_name                       ;
      dl2_main.c    24    int                             fh_txt          =       0       ;
      dl2_main.c    25    long                    mark[MARK_SIZE]         ;
      dl2_main.c    26    
      dl2_main.c    27    
      dl2_main.c    28    const char * MAIN_MENU_TEXT[] = {" 打开闪存文件 "," 打开SD卡文件 "," 更换阅读字体 "," 关于程序 "," 退出 "}
                         +;
      dl2_main.c    29    const char * READ_MENU_TEXT[] = {" 跳页 "," 读取书签 "," 保存书签 "," 退出 "};
      dl2_main.c    30    
      dl2_main.c    31    void save_page_mark ()
P   00000000              _save_page_mark:                 ; function: save_page_mark
                                                           ; frame size=40
                                                           ; used runtime library name:
                                                           ; __slow_strcpy
    00000000 2FE6                   MOV.L       R14,@-R15
    00000002 4F22                   STS.L       PR,@-R15
      dl2_main.c    32    {
      dl2_main.c    33            char    mark_file_name[32];
      dl2_main.c    34            int             file;
      dl2_main.c    35            
      dl2_main.c    36            strcpy(mark_file_name,file_name);
    00000004 D245                   MOV.L       L754+4,R2  ; _file_name
    00000006 7FE0                   ADD         #-32,R15
    00000008 D345                   MOV.L       L754+8,R3  ; __slow_strcpy
    0000000A 6122                   MOV.L       @R2,R1
    0000000C 430B                   JSR         @R3
    0000000E 60F3                   MOV         R15,R0
      dl2_main.c    37            memcpy(strstr(mark_file_name,".txt"),".svt",4);
    00000010 D544                   MOV.L       L754+12,R5 ; L404
    00000012 D345                   MOV.L       L754+16,R3 ; _strstr
    00000014 430B                   JSR         @R3
    00000016 64F3                   MOV         R15,R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    2


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000018 D544                   MOV.L       L754+20,R5 ; L405
    0000001A 6403                   MOV         R0,R4
    0000001C D244                   MOV.L       L754+24,R2 ; _memcpy
    0000001E 420B                   JSR         @R2
    00000020 E604                   MOV         #4,R6
      dl2_main.c    38    
      dl2_main.c    39            file = open_file(mark_file_name,_OPENMODE_WRITE);
    00000022 E502                   MOV         #2,R5
    00000024 D343                   MOV.L       L754+28,R3 ; _open_file
    00000026 430B                   JSR         @R3
    00000028 64F3                   MOV         R15,R4
    0000002A 6E03                   MOV         R0,R14
      dl2_main.c    40            
      dl2_main.c    41            write_file(file,&page_now,sizeof(int));
    0000002C D542                   MOV.L       L754+32,R5 ; _page_now
    0000002E E604                   MOV         #4,R6
    00000030 D242                   MOV.L       L754+36,R2 ; _Bfile_WriteFile
    00000032 420B                   JSR         @R2
    00000034 6403                   MOV         R0,R4
      dl2_main.c    42            write_file(file,mark,sizeof(int)*MARK_SIZE);
    00000036 E614                   MOV         #20,R6
    00000038 D541                   MOV.L       L754+40,R5 ; _mark
    0000003A D340                   MOV.L       L754+36,R3 ; _Bfile_WriteFile
    0000003C 430B                   JSR         @R3
    0000003E 64E3                   MOV         R14,R4
      dl2_main.c    43    
      dl2_main.c    44            close_file(file);
    00000040 D240                   MOV.L       L754+44,R2 ; _Bfile_CloseFile
    00000042 420B                   JSR         @R2
    00000044 64E3                   MOV         R14,R4
      dl2_main.c    45    }
    00000046 7F20                   ADD         #32,R15
    00000048 4F26                   LDS.L       @R15+,PR
    0000004A 000B                   RTS
    0000004C 6EF6                   MOV.L       @R15+,R14
      dl2_main.c    46    
      dl2_main.c    47    
      dl2_main.c    48    void read_page_mark ()
    0000004E              _read_page_mark:                 ; function: read_page_mark
                                                           ; frame size=104
                                                           ; used runtime library name:
                                                           ; __slow_strcpy
    0000004E 2FE6                   MOV.L       R14,@-R15
    00000050 4F22                   STS.L       PR,@-R15
    00000052 7FA0                   ADD         #-96,R15
      dl2_main.c    49    {
      dl2_main.c    50            char    mark_file_name[32];
      dl2_main.c    51            int             file;
      dl2_main.c    52            
      dl2_main.c    53            strcpy(mark_file_name,file_name);
    00000054 D231                   MOV.L       L754+4,R2  ; _file_name
    00000056 60F3                   MOV         R15,R0
    00000058 D331                   MOV.L       L754+8,R3  ; __slow_strcpy
    0000005A 6122                   MOV.L       @R2,R1
    0000005C 430B                   JSR         @R3
    0000005E 7040                   ADD         #64,R0
      dl2_main.c    54            memcpy(strstr(mark_file_name,".txt"),".svt",4);




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    3


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000060 D530                   MOV.L       L754+12,R5 ; L404
    00000062 64F3                   MOV         R15,R4
    00000064 D330                   MOV.L       L754+16,R3 ; _strstr
    00000066 430B                   JSR         @R3
    00000068 7440                   ADD         #64,R4
    0000006A 6403                   MOV         R0,R4
    0000006C D52F                   MOV.L       L754+20,R5 ; L405
    0000006E D230                   MOV.L       L754+24,R2 ; _memcpy
    00000070 420B                   JSR         @R2
    00000072 E604                   MOV         #4,R6
      dl2_main.c    55    
      dl2_main.c    56            file = open_file(mark_file_name,_OPENMODE_READ);
    00000074 D32F                   MOV.L       L754+28,R3 ; _open_file
    00000076 E501                   MOV         #1,R5
    00000078 64F3                   MOV         R15,R4
    0000007A 430B                   JSR         @R3
    0000007C 7440                   ADD         #64,R4
    0000007E 6E03                   MOV         R0,R14
      dl2_main.c    57            
      dl2_main.c    58            if (file<0)
    00000080 4E11                   CMP/PZ      R14
    00000082 8915                   BT          L625
      dl2_main.c    59            {
      dl2_main.c    60                    int     i;
      dl2_main.c    61                    fontc   ffname[32];
      dl2_main.c    62                    page_now = 0;
    00000084 D32C                   MOV.L       L754+32,R3 ; _page_now
    00000086 E500                   MOV         #0,R5
    00000088 D62D                   MOV.L       L754+40,R6 ; _mark
    0000008A 2352                   MOV.L       R5,@R3
    0000008C 6463                   MOV         R6,R4
    0000008E 6763                   MOV         R6,R7
    00000090 7714                   ADD         #20,R7
      dl2_main.c    63                    for(i=0;i<MARK_SIZE;++i)
    00000092              L626:                             
      dl2_main.c    64                    {
      dl2_main.c    65                            mark[i] = 0;
    00000092 2452                   MOV.L       R5,@R4
    00000094 7404                   ADD         #4,R4
    00000096 3472                   CMP/HS      R7,R4
    00000098 8BFB                   BF          L626
      dl2_main.c    66                    }
      dl2_main.c    67                    char_to_font(mark_file_name,ffname);
    0000009A 65F3                   MOV         R15,R5
    0000009C D32A                   MOV.L       L754+48,R3 ; _char_to_font
    0000009E 64F3                   MOV         R15,R4
    000000A0 430B                   JSR         @R3
    000000A2 7440                   ADD         #64,R4
      dl2_main.c    68                    i = create_file(ffname,sizeof(int)*(MARK_SIZE+1));
    000000A4 D229                   MOV.L       L754+52,R2 ; _Bfile_CreateFile
    000000A6 E518                   MOV         #24,R5
    000000A8 420B                   JSR         @R2
    000000AA 64F3                   MOV         R15,R4
    000000AC A00F                   BRA         L627
    000000AE 0009                   NOP
    000000B0              L625:                             
      dl2_main.c    69            }




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    4


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      dl2_main.c    70            else
      dl2_main.c    71            {
      dl2_main.c    72                    read_file(file,&page_now,sizeof(int),0);
    000000B0 D521                   MOV.L       L754+32,R5 ; _page_now
    000000B2 E700                   MOV         #0,R7
    000000B4 D226                   MOV.L       L754+56,R2 ; _Bfile_ReadFile
    000000B6 E604                   MOV         #4,R6
    000000B8 420B                   JSR         @R2
    000000BA 64E3                   MOV         R14,R4
      dl2_main.c    73                    read_file(file,mark,sizeof(int)*MARK_SIZE,sizeof(int));
    000000BC D520                   MOV.L       L754+40,R5 ; _mark
    000000BE E704                   MOV         #4,R7
    000000C0 D323                   MOV.L       L754+56,R3 ; _Bfile_ReadFile
    000000C2 E614                   MOV         #20,R6
    000000C4 430B                   JSR         @R3
    000000C6 64E3                   MOV         R14,R4
      dl2_main.c    74                    close_file(file);
    000000C8 D21E                   MOV.L       L754+44,R2 ; _Bfile_CloseFile
    000000CA 420B                   JSR         @R2
    000000CC 64E3                   MOV         R14,R4
    000000CE              L627:                             
      dl2_main.c    75            }
      dl2_main.c    76    }
    000000CE 7F60                   ADD         #96,R15
    000000D0 4F26                   LDS.L       @R15+,PR
    000000D2 000B                   RTS
    000000D4 6EF6                   MOV.L       @R15+,R14
      dl2_main.c    77    
      dl2_main.c    78    int split_page ()
    000000D6              _split_page:                     ; function: split_page
                                                           ; frame size=36
    000000D6 2FE6                   MOV.L       R14,@-R15
    000000D8 2FD6                   MOV.L       R13,@-R15
    000000DA EE00                   MOV         #0,R14
      dl2_main.c    79    {
      dl2_main.c    80            uchar           *p;
      dl2_main.c    81            uchar           *buf;
      dl2_main.c    82            int                     bytes_read,page_bytes;
      dl2_main.c    83            int                     x,y;
      dl2_main.c    84            BOOL            last_page;
      dl2_main.c    85    
      dl2_main.c    86            page_size               = 0;
      dl2_main.c    87            file_pos                = 0;
    000000DC D31F                   MOV.L       L754+68,R3 ; _file_pos
    000000DE 2FC6                   MOV.L       R12,@-R15
    000000E0 2FB6                   MOV.L       R11,@-R15
    000000E2 2FA6                   MOV.L       R10,@-R15
    000000E4 2F96                   MOV.L       R9,@-R15
    000000E6 2F86                   MOV.L       R8,@-R15
    000000E8 4F22                   STS.L       PR,@-R15
    000000EA E840                   MOV         #64,R8
    000000EC DA19                   MOV.L       L754+60,R10; _page_size
    000000EE 7FFC                   ADD         #-4,R15
    000000F0 DB19                   MOV.L       L754+64,R11; _usr_font
    000000F2 6D83                   MOV         R8,R13
      dl2_main.c    88            file_size               = get_file_size(fh_txt);
    000000F4 D21A                   MOV.L       L754+72,R2 ; _fh_txt




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    5


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000000F6 7D40                   ADD         #64,R13
    000000F8 2AE2                   MOV.L       R14,@R10
    000000FA 23E2                   MOV.L       R14,@R3
    000000FC D119                   MOV.L       L754+76,R1 ; _Bfile_GetFileSize
    000000FE 410B                   JSR         @R1
    00000100 6422                   MOV.L       @R2,R4
    00000102 D319                   MOV.L       L754+80,R3 ; _file_size
      dl2_main.c    89            buf                             = (uchar*)calloc(BUFFER_SIZE-1,1);
    00000104 9408                   MOV.W       L754,R4    ; H'4FFF
    00000106 2302                   MOV.L       R0,@R3
    00000108 D218                   MOV.L       L754+84,R2 ; _calloc
    0000010A 420B                   JSR         @R2
    0000010C E501                   MOV         #1,R5
    0000010E 6C03                   MOV         R0,R12
      dl2_main.c    90            if (buf==NULL) return -2;
    00000110 2CC8                   TST         R12,R12
    00000112 8B2D                   BF          L628
    00000114 A09B                   BRA         L629
    00000116 E0FE                   MOV         #-2,R0
    00000118              L754:                             
    00000118 4FFF                   .DATA.W     H'4FFF
    0000011A 0000                   .DATA.W     0
    0000011C <00000000>             .DATA.L     _file_name
    00000120 <00000000>             .DATA.L     __slow_strcpy
    00000124 <00000000>             .DATA.L     L404
    00000128 <00000000>             .DATA.L     _strstr
    0000012C <00000000>             .DATA.L     L405
    00000130 <00000000>             .DATA.L     _memcpy
    00000134 <00000000>             .DATA.L     _open_file
    00000138 <00000000>             .DATA.L     _page_now
    0000013C <00000000>             .DATA.L     _Bfile_WriteFile
    00000140 <00000000>             .DATA.L     _mark
    00000144 <00000000>             .DATA.L     _Bfile_CloseFile
    00000148 <00000000>             .DATA.L     _char_to_font
    0000014C <00000000>             .DATA.L     _Bfile_CreateFile
    00000150 <00000000>             .DATA.L     _Bfile_ReadFile
    00000154 <00000000>             .DATA.L     _page_size
    00000158 <00000000>             .DATA.L     _usr_font
    0000015C <00000000>             .DATA.L     _file_pos
    00000160 <00000000>             .DATA.L     _fh_txt
    00000164 <00000000>             .DATA.L     _Bfile_GetFileSize
    00000168 <00000000>             .DATA.L     _file_size
    0000016C <00000000>             .DATA.L     _calloc
    00000170              L628:                             
      dl2_main.c    91    
      dl2_main.c    92            select_font (usr_font);
    00000170 D241                   MOV.L       L755+6,R2  ; _select_font
    00000172 420B                   JSR         @R2
    00000174 64B2                   MOV.L       @R11,R4
      dl2_main.c    93            
      dl2_main.c    94            while(file_pos < file_size-1)
    00000176 A05E                   BRA         L630
    00000178 0009                   NOP
    0000017A              L631:                             
      dl2_main.c    95            {
      dl2_main.c    96                    if (file_size - file_pos > BUFFER_SIZE)
    0000017A 62F2                   MOV.L       @R15,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    6


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000017C 9379                   MOV.W       L755,R3    ; H'5000
    0000017E 3298                   SUB         R9,R2
    00000180 3236                   CMP/HI      R3,R2
    00000182 8B08                   BF          L632
      dl2_main.c    97                            bytes_read = read_file(fh_txt,buf,BUFFER_SIZE,file_pos);
    00000184 D13D                   MOV.L       L755+10,R1 ; _fh_txt
    00000186 6793                   MOV         R9,R7
    00000188 D23D                   MOV.L       L755+14,R2 ; _Bfile_ReadFile
    0000018A 6633                   MOV         R3,R6
    0000018C 65C3                   MOV         R12,R5
    0000018E 420B                   JSR         @R2
    00000190 6412                   MOV.L       @R1,R4
    00000192 A008                   BRA         L751
    00000194 0009                   NOP
    00000196              L632:                             
      dl2_main.c    98                    else
      dl2_main.c    99                            bytes_read = read_file(fh_txt,buf,file_size - file_pos,file_pos);
    00000196 6793                   MOV         R9,R7
    00000198 66F2                   MOV.L       @R15,R6
    0000019A 65C3                   MOV         R12,R5
    0000019C D237                   MOV.L       L755+10,R2 ; _fh_txt
    0000019E 3698                   SUB         R9,R6
    000001A0 D137                   MOV.L       L755+14,R1 ; _Bfile_ReadFile
    000001A2 410B                   JSR         @R1
    000001A4 6422                   MOV.L       @R2,R4
    000001A6              L751:                             
      dl2_main.c   100    
      dl2_main.c   101                    buf[bytes_read] = '\0';
      dl2_main.c   102                    
      dl2_main.c   103                    p = buf;
    000001A6 64C3                   MOV         R12,R4
    000001A8 0CE4                   MOV.B       R14,@(R0,R12)
      dl2_main.c   104                    x = 0,y = 0;
    000001AA 66E3                   MOV         R14,R6
    000001AC 67E3                   MOV         R14,R7
      dl2_main.c   105                    
      dl2_main.c   106                    bytes_read = 0;
    000001AE 69E3                   MOV         R14,R9
      dl2_main.c   107                    page_bytes = 0;
    000001B0 65E3                   MOV         R14,R5
      dl2_main.c   108    
      dl2_main.c   109                    while(1)
    000001B2              L635:                             
      dl2_main.c   110                    {
      dl2_main.c   111                            if ((*p) & 0x80)
    000001B2 6240                   MOV.B       @R4,R2
    000001B4 622C                   EXTU.B      R2,R2
    000001B6 22D8                   TST         R13,R2
    000001B8 8905                   BT          L636
      dl2_main.c   112                            {
      dl2_main.c   113    #ifdef SPLIT_TEST
      dl2_main.c   114                                    print_chs_char(x,y,0,*p,*(p+1));        
      dl2_main.c   115    #endif
      dl2_main.c   116                                    p+=2;
    000001BA 7402                   ADD         #2,R4
      dl2_main.c   117                                    page_bytes+=2;
      dl2_main.c   118                                    x += usr_font->cwidth;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    7


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000001BC 62B2                   MOV.L       @R11,R2
    000001BE 7502                   ADD         #2,R5
    000001C0 5324                   MOV.L       @(16,R2),R3
    000001C2 A00E                   BRA         L637
    000001C4 363C                   ADD         R3,R6
    000001C6              L636:                             
      dl2_main.c   119                            }
      dl2_main.c   120                            else if ((*p)=='\n')
    000001C6 6040                   MOV.B       @R4,R0
    000001C8 600C                   EXTU.B      R0,R0
    000001CA 880A                   CMP/EQ      #10,R0
    000001CC 8B01                   BF          L638
    000001CE A006                   BRA         L562
      dl2_main.c   121                            {
      dl2_main.c   122                                    x = SCR_WIDTH;
    000001D0 66D3                   MOV         R13,R6
    000001D2              L638:                             
      dl2_main.c   123                                    p++;
      dl2_main.c   124                                    page_bytes++;
      dl2_main.c   125                            }
      dl2_main.c   126                            else if (*p == 0)
    000001D2 6240                   MOV.B       @R4,R2
    000001D4 2228                   TST         R2,R2
    000001D6 8B02                   BF          L562
      dl2_main.c   127                            {
      dl2_main.c   128                                    if (last_page)
      dl2_main.c   129                                    {
      dl2_main.c   130                                            x = SCR_WIDTH,y = SCR_HEIGHT;
    000001D8 66D3                   MOV         R13,R6
    000001DA A002                   BRA         L637
    000001DC 6783                   MOV         R8,R7
    000001DE              L562:
      dl2_main.c   131                                    }
      dl2_main.c   132                                    else
      dl2_main.c   133                                            break;
      dl2_main.c   134                            }
      dl2_main.c   135                            else
      dl2_main.c   136                            {
      dl2_main.c   137    #ifdef SPLIT_TEST
      dl2_main.c   138                                    print_asc_char(x,y,0,*p);       
      dl2_main.c   139    #endif
      dl2_main.c   140                                    ++p;
    000001DE 7401                   ADD         #1,R4
      dl2_main.c   141                                    page_bytes++;
    000001E0 7501                   ADD         #1,R5
    000001E2              L637:                             
      dl2_main.c   142                            }
      dl2_main.c   143                            if (x+usr_font->cwidth > SCR_WIDTH)
    000001E2 63B2                   MOV.L       @R11,R3
    000001E4 5234                   MOV.L       @(16,R3),R2
    000001E6 326C                   ADD         R6,R2
    000001E8 32D6                   CMP/HI      R13,R2
    000001EA 8BE2                   BF          L635
      dl2_main.c   144                            {
      dl2_main.c   145                                    x = 0;
      dl2_main.c   146                                    y += usr_font->height;
    000001EC 62B2                   MOV.L       @R11,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    8


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000001EE 5326                   MOV.L       @(24,R2),R3
    000001F0 2F32                   MOV.L       R3,@R15
    000001F2 373C                   ADD         R3,R7
      dl2_main.c   147                                    if (y + usr_font->height > SCR_HEIGHT)
    000001F4 337C                   ADD         R7,R3
    000001F6 3386                   CMP/HI      R8,R3
    000001F8 8FDB                   BF/S        L635
    000001FA 66E3                   MOV         R14,R6
      dl2_main.c   148                                    {
      dl2_main.c   149                                            // page_end
      dl2_main.c   150                                            y = 0;
      dl2_main.c   151                                            bytes_read += page_bytes;
      dl2_main.c   152                                            // save page offset
      dl2_main.c   153                                            if (page_size>=PAGE_MAX)
    000001FC 923A                   MOV.W       L755+2,R2  ; H'270F
    000001FE 67E3                   MOV         R14,R7
    00000200 63A2                   MOV.L       @R10,R3
    00000202 3322                   CMP/HS      R2,R3
    00000204 8F05                   BF/S        L647
    00000206 395C                   ADD         R5,R9
      dl2_main.c   154                                            {
      dl2_main.c   155                                                    free(buf);      
    00000208 D31E                   MOV.L       L755+18,R3 ; _free
    0000020A 430B                   JSR         @R3
    0000020C 64C3                   MOV         R12,R4
      dl2_main.c   156                                                    return -1;
    0000020E A01E                   BRA         L629
    00000210 E0FF                   MOV         #-1,R0
    00000212              L647:                             
      dl2_main.c   157                                            }
      dl2_main.c   158    #ifdef SPLIT_TEST
      dl2_main.c   159                                            waitkey();all_clr();
      dl2_main.c   160    #endif
      dl2_main.c   161                                            page_offset[page_size++] = page_bytes;
    00000212 62A2                   MOV.L       @R10,R2
    00000214 D31C                   MOV.L       L755+22,R3 ; _page_offset
    00000216 7201                   ADD         #1,R2
    00000218 2A22                   MOV.L       R2,@R10
    0000021A 72FF                   ADD         #-1,R2
    0000021C 6032                   MOV.L       @R3,R0
    0000021E 4200                   SHLL        R2
    00000220 0255                   MOV.W       R5,@(R0,R2)
      dl2_main.c   162                                            page_bytes = 0;
      dl2_main.c   163                                            if (*p==0) break;
    00000222 6240                   MOV.B       @R4,R2
    00000224 2228                   TST         R2,R2
    00000226 8FC4                   BF/S        L635
    00000228 65E3                   MOV         R14,R5
      dl2_main.c   164                                    }
      dl2_main.c   165                            }// if
      dl2_main.c   166                    }
      dl2_main.c   167                    if (bytes_read==0)
    0000022A 2998                   TST         R9,R9
    0000022C 8903                   BT          L630
      dl2_main.c   168                            last_page = TRUE;
      dl2_main.c   169                    else
      dl2_main.c   170                            file_pos += bytes_read;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    9


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000022E D317                   MOV.L       L755+26,R3 ; _file_pos
    00000230 6132                   MOV.L       @R3,R1
    00000232 319C                   ADD         R9,R1
    00000234 2312                   MOV.L       R1,@R3
    00000236              L630:                             
    00000236 D315                   MOV.L       L755+26,R3 ; _file_pos
    00000238 D115                   MOV.L       L755+30,R1 ; _file_size
    0000023A 6932                   MOV.L       @R3,R9
    0000023C 6212                   MOV.L       @R1,R2
    0000023E 2F22                   MOV.L       R2,@R15
    00000240 72FF                   ADD         #-1,R2
    00000242 3922                   CMP/HS      R2,R9
    00000244 8B99                   BF          L631
      dl2_main.c   171            }
      dl2_main.c   172            free(buf);
    00000246 D30F                   MOV.L       L755+18,R3 ; _free
    00000248 430B                   JSR         @R3
    0000024A 64C3                   MOV         R12,R4
      dl2_main.c   173            return 0;
    0000024C E000                   MOV         #0,R0
      dl2_main.c   174    }
    0000024E              L629:                             
    0000024E 7F04                   ADD         #4,R15
    00000250 4F26                   LDS.L       @R15+,PR
    00000252 68F6                   MOV.L       @R15+,R8
    00000254 69F6                   MOV.L       @R15+,R9
    00000256 6AF6                   MOV.L       @R15+,R10
    00000258 6BF6                   MOV.L       @R15+,R11
    0000025A 6CF6                   MOV.L       @R15+,R12
    0000025C 6DF6                   MOV.L       @R15+,R13
    0000025E 000B                   RTS
    00000260 6EF6                   MOV.L       @R15+,R14
      dl2_main.c   175    
      dl2_main.c   176    long get_page_offset ()
    00000262              _get_page_offset:                ; function: get_page_offset
                                                           ; frame size=4
      dl2_main.c   177    {
      dl2_main.c   178            int offset = 0,i;
    00000262 E700                   MOV         #0,R7
    00000264 D108                   MOV.L       L755+22,R1 ; _page_offset
    00000266 6673                   MOV         R7,R6
    00000268 2FD6                   MOV.L       R13,@-R15
      dl2_main.c   179            for (i=0;i<page_now;++i)
    0000026A 6573                   MOV         R7,R5
    0000026C DD09                   MOV.L       L755+34,R13; _page_now
    0000026E A019                   BRA         L651
    00000270 6473                   MOV         R7,R4
    00000272              L755:                             
    00000272 5000                   .DATA.W     H'5000
    00000274 270F                   .DATA.W     H'270F
    00000276 0000                   .DATA.W     0
    00000278 <00000000>             .DATA.L     _select_font
    0000027C <00000000>             .DATA.L     _fh_txt
    00000280 <00000000>             .DATA.L     _Bfile_ReadFile
    00000284 <00000000>             .DATA.L     _free
    00000288 <00000000>             .DATA.L     _page_offset
    0000028C <00000000>             .DATA.L     _file_pos




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   10


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000290 <00000000>             .DATA.L     _file_size
    00000294 <00000000>             .DATA.L     _page_now
    00000298              L652:                             
      dl2_main.c   180            {
      dl2_main.c   181                    offset+=page_offset[i]; 
    00000298 6012                   MOV.L       @R1,R0
    0000029A 7501                   ADD         #1,R5
    0000029C 024D                   MOV.W       @(R0,R4),R2
    0000029E 7402                   ADD         #2,R4
    000002A0 622D                   EXTU.W      R2,R2
    000002A2 362C                   ADD         R2,R6
    000002A4              L651:                             
    000002A4 63D2                   MOV.L       @R13,R3
    000002A6 3532                   CMP/HS      R3,R5
    000002A8 8BF6                   BF          L652
      dl2_main.c   182            }
      dl2_main.c   183            return offset;
    000002AA 6063                   MOV         R6,R0
      dl2_main.c   184    }
    000002AC 000B                   RTS
    000002AE 6DF6                   MOV.L       @R15+,R13
      dl2_main.c   185    
      dl2_main.c   186    int select_page_mark (const char * title)
    000002B0              _select_page_mark:               ; function: select_page_mark
                                                           ; frame size=188
    000002B0 2FE6                   MOV.L       R14,@-R15
    000002B2 2FD6                   MOV.L       R13,@-R15
    000002B4 2FC6                   MOV.L       R12,@-R15
    000002B6 EC01                   MOV         #1,R12
      dl2_main.c   187    {
      dl2_main.c   188            int                             left = 64-get_str_width(title)/2,index = 0;
    000002B8 D33D                   MOV.L       L756+16,R3 ; _get_str_width
    000002BA 2FB6                   MOV.L       R11,@-R15
    000002BC 2FA6                   MOV.L       R10,@-R15
    000002BE 2F96                   MOV.L       R9,@-R15
    000002C0 2F86                   MOV.L       R8,@-R15
    000002C2 E800                   MOV         #0,R8
    000002C4 DB39                   MOV.L       L756+12,R11; _sys_font
    000002C6 4F22                   STS.L       PR,@-R15
    000002C8 906A                   MOV.W       L756,R0    ; H'FF74
    000002CA 3F0C                   ADD         R0,R15
    000002CC 430B                   JSR         @R3
    000002CE 1F41                   MOV.L       R4,@(4,R15)
    000002D0 6383                   MOV         R8,R3
    000002D2 3307                   CMP/GT      R0,R3
    000002D4 303E                   ADDC        R3,R0
    000002D6 4021                   SHAR        R0
    000002D8 600B                   NEG         R0,R0
    000002DA 7040                   ADD         #64,R0
    000002DC 1F02                   MOV.L       R0,@(8,R15)
    000002DE 6D33                   MOV         R3,R13
      dl2_main.c   189            BOOL                    redraw = TRUE;
      dl2_main.c   190            char                    buf[128];
      dl2_main.c   191            unsigned int    key;
      dl2_main.c   192    
      dl2_main.c   193            select_font(sys_font);
    000002E0 D334                   MOV.L       L756+20,R3 ; _select_font




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   11


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000002E2 6EC3                   MOV         R12,R14
    000002E4 430B                   JSR         @R3
    000002E6 64B2                   MOV.L       @R11,R4
      dl2_main.c   194            all_clr();
    000002E8 D233                   MOV.L       L756+24,R2 ; _Bdisp_AllClr_VRAM
    000002EA 420B                   JSR         @R2
    000002EC 0009                   NOP
      dl2_main.c   195            print_chs_str(left,0,0,title);
    000002EE 6683                   MOV         R8,R6
    000002F0 D332                   MOV.L       L756+28,R3 ; _print_chs_str
    000002F2 6583                   MOV         R8,R5
    000002F4 57F1                   MOV.L       @(4,R15),R7
    000002F6 430B                   JSR         @R3
    000002F8 54F2                   MOV.L       @(8,R15),R4
      dl2_main.c   196            while(1)
    000002FA              L655:                             
      dl2_main.c   197            {
      dl2_main.c   198                    if (redraw)
    000002FA 2EE8                   TST         R14,R14
    000002FC 8925                   BT          L656
      dl2_main.c   199                    {
      dl2_main.c   200                            int i,y=sys_font->height+4,x=0;
    000002FE 6AB2                   MOV.L       @R11,R10
    00000300 5AA6                   MOV.L       @(24,R10),R10
    00000302 7A04                   ADD         #4,R10
      dl2_main.c   201                            for (i=0;i<MARK_SIZE;++i,y+=sys_font->height)
    00000304 A01D                   BRA         L657
    00000306 6E83                   MOV         R8,R14
    00000308              L658:                             
      dl2_main.c   202                            {
      dl2_main.c   203                                    sprintf(buf," -%d- %04d/%04d  ",i,mark[i]+1,page_size);
    00000308 D32D                   MOV.L       L756+32,R3 ; _page_size
    0000030A 61E3                   MOV         R14,R1
    0000030C D02D                   MOV.L       L756+36,R0 ; _mark
    0000030E 69F3                   MOV         R15,R9
    00000310 6232                   MOV.L       @R3,R2
    00000312 4108                   SHLL2       R1
    00000314 2F26                   MOV.L       R2,@-R15
    00000316 790C                   ADD         #12,R9
    00000318 D32C                   MOV.L       L756+44,R3 ; _sprintf
    0000031A 021E                   MOV.L       @(R0,R1),R2
    0000031C D12A                   MOV.L       L756+40,R1 ; L455
    0000031E 7201                   ADD         #1,R2
    00000320 2F26                   MOV.L       R2,@-R15
    00000322 2FE6                   MOV.L       R14,@-R15
    00000324 2F16                   MOV.L       R1,@-R15
    00000326 430B                   JSR         @R3
    00000328 6493                   MOV         R9,R4
    0000032A 7F10                   ADD         #16,R15
      dl2_main.c   204                                    print_chs_str(x,y,index==i,buf);
    0000032C D223                   MOV.L       L756+28,R2 ; _print_chs_str
    0000032E 6793                   MOV         R9,R7
    00000330 3DE0                   CMP/EQ      R14,R13
    00000332 0629                   MOVT        R6
    00000334 65A3                   MOV         R10,R5
    00000336 420B                   JSR         @R2
    00000338 E400                   MOV         #0,R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   12


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000033A 7E01                   ADD         #1,R14
    0000033C 63B2                   MOV.L       @R11,R3
    0000033E 5236                   MOV.L       @(24,R3),R2
    00000340 3A2C                   ADD         R2,R10
    00000342              L657:                             
    00000342 E405                   MOV         #5,R4
    00000344 3E43                   CMP/GE      R4,R14
    00000346 8BDF                   BF          L658
      dl2_main.c   205                            }
      dl2_main.c   206                            redraw = TRUE;
    00000348 6EC3                   MOV         R12,R14
    0000034A              L656:                             
      dl2_main.c   207                    }
      dl2_main.c   208                    GetKey(&key);
    0000034A DA21                   MOV.L       L756+48,R10; _GetKey
    0000034C 4A0B                   JSR         @R10
    0000034E 64F3                   MOV         R15,R4
      dl2_main.c   209                    if (key==KEY_CTRL_UP)
    00000350 9427                   MOV.W       L756+2,R4  ; H'7542
    00000352 62F2                   MOV.L       @R15,R2
    00000354 3240                   CMP/EQ      R4,R2
    00000356 8B03                   BF          L659
      dl2_main.c   210                    {
      dl2_main.c   211                            if (index<=0) continue;
    00000358 4D15                   CMP/PL      R13
    0000035A 8BCE                   BF          L655
    0000035C A008                   BRA         L563
      dl2_main.c   212                            --index;
    0000035E 7DFF                   ADD         #-1,R13
    00000360              L659:                             
      dl2_main.c   213                            redraw = TRUE;
      dl2_main.c   214                    }
      dl2_main.c   215                    else if (key==KEY_CTRL_DOWN)
    00000360 9420                   MOV.W       L756+4,R4  ; H'7547
    00000362 62F2                   MOV.L       @R15,R2
    00000364 3240                   CMP/EQ      R4,R2
    00000366 8B05                   BF          L662
      dl2_main.c   216                    {
      dl2_main.c   217                            if (index>=MARK_SIZE-1) continue;
    00000368 E404                   MOV         #4,R4
    0000036A 3D43                   CMP/GE      R4,R13
    0000036C 89C5                   BT          L655
      dl2_main.c   218                            ++index;
    0000036E 7D01                   ADD         #1,R13
    00000370              L563:
      dl2_main.c   219                            redraw = TRUE;
    00000370 AFC3                   BRA         L655
    00000372 6EC3                   MOV         R12,R14
    00000374              L662:                             
      dl2_main.c   220                    }
      dl2_main.c   221                    else if (key==KEY_CTRL_EXE)
    00000374 9417                   MOV.W       L756+6,R4  ; H'7534
    00000376 63F2                   MOV.L       @R15,R3
    00000378 3340                   CMP/EQ      R4,R3
    0000037A 8B01                   BF          L665
      dl2_main.c   222                    {
      dl2_main.c   223                            return index;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   13


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000037C A005                   BRA         L666
    0000037E 60D3                   MOV         R13,R0
    00000380              L665:                             
      dl2_main.c   224                    }
      dl2_main.c   225                    else if (key==KEY_CTRL_EXIT) return -1;
    00000380 9412                   MOV.W       L756+8,R4  ; H'7532
    00000382 62F2                   MOV.L       @R15,R2
    00000384 3240                   CMP/EQ      R4,R2
    00000386 8BB8                   BF          L655
    00000388 E0FF                   MOV         #-1,R0
    0000038A              L666:                             
      dl2_main.c   226            }
      dl2_main.c   227    }
    0000038A 910E                   MOV.W       L756+10,R1 ; H'008C
    0000038C 3F1C                   ADD         R1,R15
    0000038E 4F26                   LDS.L       @R15+,PR
    00000390 68F6                   MOV.L       @R15+,R8
    00000392 69F6                   MOV.L       @R15+,R9
    00000394 6AF6                   MOV.L       @R15+,R10
    00000396 6BF6                   MOV.L       @R15+,R11
    00000398 6CF6                   MOV.L       @R15+,R12
    0000039A 6DF6                   MOV.L       @R15+,R13
    0000039C 000B                   RTS
    0000039E 6EF6                   MOV.L       @R15+,R14
    000003A0              L756:                             
    000003A0 FF74                   .DATA.W     H'FF74
    000003A2 7542                   .DATA.W     H'7542
    000003A4 7547                   .DATA.W     H'7547
    000003A6 7534                   .DATA.W     H'7534
    000003A8 7532                   .DATA.W     H'7532
    000003AA 008C                   .DATA.W     H'008C
    000003AC <00000000>             .DATA.L     _sys_font
    000003B0 <00000000>             .DATA.L     _get_str_width
    000003B4 <00000000>             .DATA.L     _select_font
    000003B8 <00000000>             .DATA.L     _Bdisp_AllClr_VRAM
    000003BC <00000000>             .DATA.L     _print_chs_str
    000003C0 <00000000>             .DATA.L     _page_size
    000003C4 <00000000>             .DATA.L     _mark
    000003C8 <00000000>             .DATA.L     L455
    000003CC <00000000>             .DATA.L     _sprintf
    000003D0 <00000000>             .DATA.L     _GetKey
      dl2_main.c   228    
      dl2_main.c   229    void start_read ()
    000003D4              _start_read:                     ; function: start_read
                                                           ; frame size=196
    000003D4 2FE6                   MOV.L       R14,@-R15
      dl2_main.c   230    {
      dl2_main.c   231            uint    key;
      dl2_main.c   232            int             redraw = 1;
    000003D6 E301                   MOV         #1,R3
    000003D8 9049                   MOV.W       L757,R0    ; H'FF6C
    000003DA 2FD6                   MOV.L       R13,@-R15
    000003DC 2FC6                   MOV.L       R12,@-R15
    000003DE 2FB6                   MOV.L       R11,@-R15
    000003E0 2FA6                   MOV.L       R10,@-R15
    000003E2 2F96                   MOV.L       R9,@-R15
    000003E4 2F86                   MOV.L       R8,@-R15




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   14


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000003E6 4F22                   STS.L       PR,@-R15
    000003E8 DC22                   MOV.L       L757+6,R12 ; _file_pos
    000003EA 3F0C                   ADD         R0,R15
      dl2_main.c   233            int             menu_index = 0;
      dl2_main.c   234    
      dl2_main.c   235            file_pos = get_page_offset();
    000003EC BF39                   BSR         _get_page_offset
    000003EE 1F34                   MOV.L       R3,@(16,R15)
    000003F0 2C02                   MOV.L       R0,@R12
      dl2_main.c   236            
      dl2_main.c   237            while(1)
    000003F2              L670:                             
      dl2_main.c   238            {
      dl2_main.c   239                    if (redraw)
    000003F2 9B3D                   MOV.W       L757+2,R11 ; H'0080
    000003F4 52F4                   MOV.L       @(16,R15),R2
    000003F6 2228                   TST         R2,R2
    000003F8 8D67                   BT/S        L671
    000003FA ED00                   MOV         #0,R13
      dl2_main.c   240                    {
      dl2_main.c   241                            uchar c1,c2;
      dl2_main.c   242                            int   x = 0,y = 0,i = 0;
      dl2_main.c   243                            redraw = 0;
      dl2_main.c   244                            all_clr();
    000003FC D31E                   MOV.L       L757+10,R3 ; _Bdisp_AllClr_VRAM
    000003FE 6ED3                   MOV         R13,R14
    00000400 68D3                   MOV         R13,R8
    00000402 69D3                   MOV         R13,R9
    00000404 430B                   JSR         @R3
    00000406 1FD4                   MOV.L       R13,@(16,R15)
      dl2_main.c   245                            select_font(usr_font);
    00000408 DA1C                   MOV.L       L757+14,R10; _usr_font
    0000040A D21D                   MOV.L       L757+18,R2 ; _select_font
    0000040C 420B                   JSR         @R2
    0000040E 64A2                   MOV.L       @R10,R4
      dl2_main.c   246    
      dl2_main.c   247                            while(file_pos+i<file_size)
    00000410 A054                   BRA         L672
    00000412 0009                   NOP
    00000414              L673:                             
      dl2_main.c   248                            {
      dl2_main.c   249                                    read_file(fh_txt,&c1,1,file_pos+i);i++;
    00000414 57F3                   MOV.L       @(12,R15),R7
    00000416 E601                   MOV         #1,R6
    00000418 D31A                   MOV.L       L757+22,R3 ; _fh_txt
    0000041A 65F3                   MOV         R15,R5
    0000041C D21A                   MOV.L       L757+26,R2 ; _Bfile_ReadFile
    0000041E 7504                   ADD         #4,R5
    00000420 420B                   JSR         @R2
    00000422 6432                   MOV.L       @R3,R4
    00000424 84F4                   MOV.B       @(4,R15),R0
    00000426 6403                   MOV         R0,R4
    00000428 644C                   EXTU.B      R4,R4
    0000042A 6343                   MOV         R4,R3
    0000042C 23B8                   TST         R11,R3
    0000042E 8D19                   BT/S        L674
    00000430 7901                   ADD         #1,R9




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   15


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      dl2_main.c   250                                    if (c1 & 0x80)
      dl2_main.c   251                                    {
      dl2_main.c   252                                            read_file(fh_txt,&c2,1,file_pos+i);i++;
    00000432 E601                   MOV         #1,R6
    00000434 D313                   MOV.L       L757+22,R3 ; _fh_txt
    00000436 65F3                   MOV         R15,R5
    00000438 D213                   MOV.L       L757+26,R2 ; _Bfile_ReadFile
    0000043A 7508                   ADD         #8,R5
    0000043C 67C2                   MOV.L       @R12,R7
    0000043E 379C                   ADD         R9,R7
    00000440 420B                   JSR         @R2
    00000442 6432                   MOV.L       @R3,R4
      dl2_main.c   253                                            print_chs_char(x,y,0,c1,c2);
    00000444 84F8                   MOV.B       @(8,R15),R0
    00000446 E600                   MOV         #0,R6
    00000448 7901                   ADD         #1,R9
    0000044A 6303                   MOV         R0,R3
    0000044C 2F36                   MOV.L       R3,@-R15
    0000044E 6583                   MOV         R8,R5
    00000450 84F8                   MOV.B       @(8,R15),R0
    00000452 6703                   MOV         R0,R7
    00000454 D30D                   MOV.L       L757+30,R3 ; _print_chs_char
    00000456 430B                   JSR         @R3
    00000458 64E3                   MOV         R14,R4
    0000045A 7F04                   ADD         #4,R15
      dl2_main.c   254                                            x += usr_font->cwidth;
    0000045C 62A2                   MOV.L       @R10,R2
    0000045E 5324                   MOV.L       @(16,R2),R3
    00000460 A020                   BRA         L675
    00000462 3E3C                   ADD         R3,R14
    00000464              L674:                             
      dl2_main.c   255                                    }
      dl2_main.c   256                                    else if (c1 == '\n')
    00000464 6043                   MOV         R4,R0
    00000466 880A                   CMP/EQ      #10,R0
    00000468 8B12                   BF          L676
      dl2_main.c   257                                    {
      dl2_main.c   258                                            x = SCR_WIDTH;
    0000046A A01B                   BRA         L675
    0000046C 6EB3                   MOV         R11,R14
    0000046E              L757:                             
    0000046E FF6C                   .DATA.W     H'FF6C
    00000470 0080                   .DATA.W     H'0080
    00000472 0000                   .DATA.W     0
    00000474 <00000000>             .DATA.L     _file_pos
    00000478 <00000000>             .DATA.L     _Bdisp_AllClr_VRAM
    0000047C <00000000>             .DATA.L     _usr_font
    00000480 <00000000>             .DATA.L     _select_font
    00000484 <00000000>             .DATA.L     _fh_txt
    00000488 <00000000>             .DATA.L     _Bfile_ReadFile
    0000048C <00000000>             .DATA.L     _print_chs_char
    00000490              L676:                             
      dl2_main.c   259                                    }
      dl2_main.c   260                                    else
      dl2_main.c   261                                    {
      dl2_main.c   262                                            print_asc_char(x,y,0,c1);
    00000490 84F4                   MOV.B       @(4,R15),R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   16


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000492 E600                   MOV         #0,R6
    00000494 D326                   MOV.L       L758+4,R3  ; _print_asc_char
    00000496 6583                   MOV         R8,R5
    00000498 6703                   MOV         R0,R7
    0000049A 430B                   JSR         @R3
    0000049C 64E3                   MOV         R14,R4
      dl2_main.c   263                                            x += usr_font->awidth;
    0000049E 62A2                   MOV.L       @R10,R2
    000004A0 5325                   MOV.L       @(20,R2),R3
    000004A2 3E3C                   ADD         R3,R14
    000004A4              L675:                             
    000004A4 64A2                   MOV.L       @R10,R4
    000004A6 5244                   MOV.L       @(16,R4),R2
    000004A8 32EC                   ADD         R14,R2
    000004AA 32B6                   CMP/HI      R11,R2
    000004AC 8B06                   BF          L672
      dl2_main.c   264                                    }
      dl2_main.c   265                                    if (x+usr_font->cwidth > SCR_WIDTH)
      dl2_main.c   266                                    {
      dl2_main.c   267                                            x = 0;
      dl2_main.c   268                                            y += usr_font->height;
    000004AE 5546                   MOV.L       @(24,R4),R5
    000004B0 385C                   ADD         R5,R8
      dl2_main.c   269                                            if (y + usr_font->height > SCR_HEIGHT)
    000004B2 E440                   MOV         #64,R4
    000004B4 358C                   ADD         R8,R5
    000004B6 3546                   CMP/HI      R4,R5
    000004B8 8D07                   BT/S        L671
    000004BA 6ED3                   MOV         R13,R14
    000004BC              L672:                             
    000004BC D41D                   MOV.L       L758+8,R4  ; _file_size
    000004BE 62C2                   MOV.L       @R12,R2
    000004C0 329C                   ADD         R9,R2
    000004C2 1F23                   MOV.L       R2,@(12,R15)
    000004C4 6342                   MOV.L       @R4,R3
    000004C6 3232                   CMP/HS      R3,R2
    000004C8 8BA4                   BF          L673
    000004CA              L671:                             
      dl2_main.c   270                                                    break;
      dl2_main.c   271                                    }
      dl2_main.c   272                            }
      dl2_main.c   273                    }
      dl2_main.c   274                    GetKey(&key);
    000004CA DE1B                   MOV.L       L758+12,R14; _GetKey
    000004CC 4E0B                   JSR         @R14
    000004CE 64F3                   MOV         R15,R4
      dl2_main.c   275                    if (key==KEY_CTRL_UP)
    000004D0 952C                   MOV.W       L758,R5    ; H'7542
    000004D2 D41A                   MOV.L       L758+16,R4 ; _page_offset
    000004D4 DE1A                   MOV.L       L758+20,R14; _page_now
    000004D6 63F2                   MOV.L       @R15,R3
    000004D8 3350                   CMP/EQ      R5,R3
    000004DA 8B0F                   BF          L681
      dl2_main.c   276                    {
      dl2_main.c   277                            if (page_now<=0) continue;
    000004DC 62E2                   MOV.L       @R14,R2
    000004DE E100                   MOV         #0,R1




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   17


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000004E0 3216                   CMP/HI      R1,R2
    000004E2 8B86                   BF          L670
      dl2_main.c   278                            file_pos -= page_offset[--page_now];
    000004E4 63E2                   MOV.L       @R14,R3
    000004E6 73FF                   ADD         #-1,R3
    000004E8 2E32                   MOV.L       R3,@R14
    000004EA 4300                   SHLL        R3
    000004EC 6042                   MOV.L       @R4,R0
    000004EE 023D                   MOV.W       @(R0,R3),R2
    000004F0 63C2                   MOV.L       @R12,R3
    000004F2 622D                   EXTU.W      R2,R2
    000004F4 3328                   SUB         R2,R3
      dl2_main.c   279                            redraw = 1;
    000004F6 E201                   MOV         #1,R2
    000004F8 2C32                   MOV.L       R3,@R12
    000004FA 1F24                   MOV.L       R2,@(16,R15)
    000004FC              L681:                             
      dl2_main.c   280                    }
      dl2_main.c   281                    if (key==KEY_CTRL_DOWN)
    000004FC 9517                   MOV.W       L758+2,R5  ; H'7547
    000004FE D911                   MOV.L       L758+24,R9 ; _page_size
    00000500 63F2                   MOV.L       @R15,R3
    00000502 3350                   CMP/EQ      R5,R3
    00000504 8B20                   BF          L683
      dl2_main.c   282                    {
      dl2_main.c   283                            if (page_now+1>=page_size) continue;
    00000506 61E2                   MOV.L       @R14,R1
    00000508 6392                   MOV.L       @R9,R3
    0000050A 7101                   ADD         #1,R1
    0000050C 3132                   CMP/HS      R3,R1
    0000050E 8B01                   BF          L759
    00000510 AF6F                   BRA         L670
    00000512 0009                   NOP
    00000514              L759:                             
      dl2_main.c   284                            file_pos += page_offset[page_now++];
    00000514 62E2                   MOV.L       @R14,R2
    00000516 7201                   ADD         #1,R2
    00000518 2E22                   MOV.L       R2,@R14
    0000051A 72FF                   ADD         #-1,R2
    0000051C 6042                   MOV.L       @R4,R0
    0000051E 4200                   SHLL        R2
    00000520 032D                   MOV.W       @(R0,R2),R3
    00000522 633D                   EXTU.W      R3,R3
    00000524 62C2                   MOV.L       @R12,R2
    00000526 323C                   ADD         R3,R2
    00000528 A082                   BRA         L565
    0000052A 2C22                   MOV.L       R2,@R12
    0000052C              L758:                             
    0000052C 7542                   .DATA.W     H'7542
    0000052E 7547                   .DATA.W     H'7547
    00000530 <00000000>             .DATA.L     _print_asc_char
    00000534 <00000000>             .DATA.L     _file_size
    00000538 <00000000>             .DATA.L     _GetKey
    0000053C <00000000>             .DATA.L     _page_offset
    00000540 <00000000>             .DATA.L     _page_now
    00000544 <00000000>             .DATA.L     _page_size
    00000548              L683:                             




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   18


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      dl2_main.c   285                            redraw = 1;
      dl2_main.c   286                    }
      dl2_main.c   287                    else if (key==KEY_CTRL_EXIT)
    00000548 9475                   MOV.W       L760,R4    ; H'7532
    0000054A 63F2                   MOV.L       @R15,R3
    0000054C 3340                   CMP/EQ      R4,R3
    0000054E 8901                   BT          L761
    00000550 AF4F                   BRA         L670
    00000552 0009                   NOP
    00000554              L761:                             
      dl2_main.c   288                    {
      dl2_main.c   289                            char    buf[128];
      dl2_main.c   290                            int             r;
      dl2_main.c   291                            select_font (sys_font);
    00000554 DA38                   MOV.L       L760+2,R10 ; _sys_font
    00000556 D339                   MOV.L       L760+6,R3  ; _select_font
    00000558 430B                   JSR         @R3
    0000055A 64A2                   MOV.L       @R10,R4
      dl2_main.c   292                            sprintf(buf,"  当前页%04d/%04d",page_now+1,page_size);
    0000055C D838                   MOV.L       L760+10,R8 ; _sprintf
    0000055E 6AF3                   MOV         R15,R10
    00000560 6292                   MOV.L       @R9,R2
    00000562 7A14                   ADD         #20,R10
    00000564 2F26                   MOV.L       R2,@-R15
    00000566 63E2                   MOV.L       @R14,R3
    00000568 D236                   MOV.L       L760+14,R2 ; L481
    0000056A 7301                   ADD         #1,R3
    0000056C 2F36                   MOV.L       R3,@-R15
    0000056E 2F26                   MOV.L       R2,@-R15
    00000570 480B                   JSR         @R8
    00000572 64A3                   MOV         R10,R4
      dl2_main.c   293                            all_clr();
    00000574 D334                   MOV.L       L760+18,R3 ; _Bdisp_AllClr_VRAM
    00000576 430B                   JSR         @R3
    00000578 0009                   NOP
      dl2_main.c   294                            print_chs_str(0,0,0,buf);
    0000057A 67A3                   MOV         R10,R7
    0000057C D233                   MOV.L       L760+22,R2 ; _print_chs_str
    0000057E E600                   MOV         #0,R6
    00000580 6563                   MOV         R6,R5
    00000582 420B                   JSR         @R2
    00000584 6463                   MOV         R6,R4
      dl2_main.c   295                            menu_index = show_menu (0,4,READ_MENU_TEXT,32,16);
    00000586 E310                   MOV         #16,R3
    00000588 D631                   MOV.L       L760+26,R6 ; _READ_MENU_TEXT
    0000058A E504                   MOV         #4,R5
    0000058C 2F36                   MOV.L       R3,@-R15
    0000058E E720                   MOV         #32,R7
    00000590 B0D8                   BSR         _show_menu
    00000592 E400                   MOV         #0,R4
    00000594 7F10                   ADD         #16,R15
      dl2_main.c   296                            if (menu_index==-1) continue;
    00000596 88FF                   CMP/EQ      #-1,R0
    00000598 8F02                   BF/S        L762
    0000059A 6403                   MOV         R0,R4
    0000059C AF29                   BRA         L670
    0000059E 0009                   NOP




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   19


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000005A0              L762:                             
      dl2_main.c   297                            else if (menu_index==0)
    000005A0 2448                   TST         R4,R4
    000005A2 8B23                   BF          L689
      dl2_main.c   298                            {
      dl2_main.c   299                                    show_dialog (""," 输入页码 ",0,0);
    000005A4 D52B                   MOV.L       L760+30,R5 ; L485
    000005A6 E700                   MOV         #0,R7
    000005A8 D42B                   MOV.L       L760+34,R4 ; L484
    000005AA D32C                   MOV.L       L760+38,R3 ; _show_dialog
    000005AC 430B                   JSR         @R3
    000005AE 6673                   MOV         R7,R6
      dl2_main.c   300                                    sprintf(buf,"%d",page_now+1);
    000005B0 62E2                   MOV.L       @R14,R2
    000005B2 7201                   ADD         #1,R2
    000005B4 2F26                   MOV.L       R2,@-R15
    000005B6 D32A                   MOV.L       L760+42,R3 ; L486
    000005B8 2F36                   MOV.L       R3,@-R15
    000005BA 480B                   JSR         @R8
    000005BC 64A3                   MOV         R10,R4
      dl2_main.c   301                                    if (get_line_box(buf,128,16,14,32))
    000005BE E220                   MOV         #32,R2
    000005C0 D828                   MOV.L       L760+46,R8 ; _get_line_box
    000005C2 E70E                   MOV         #14,R7
    000005C4 2F26                   MOV.L       R2,@-R15
    000005C6 E610                   MOV         #16,R6
    000005C8 65B3                   MOV         R11,R5
    000005CA 480B                   JSR         @R8
    000005CC 64A3                   MOV         R10,R4
    000005CE 2008                   TST         R0,R0
    000005D0 8D2E                   BT/S        L565
    000005D2 7F0C                   ADD         #12,R15
      dl2_main.c   302                                    {
      dl2_main.c   303                                            page_now = atol(buf)-1;
    000005D4 DB24                   MOV.L       L760+50,R11; _atol
    000005D6 4B0B                   JSR         @R11
    000005D8 64A3                   MOV         R10,R4
    000005DA 70FF                   ADD         #-1,R0
    000005DC 2E02                   MOV.L       R0,@R14
    000005DE 6203                   MOV         R0,R2
    000005E0 6492                   MOV.L       @R9,R4
    000005E2 3242                   CMP/HS      R4,R2
    000005E4 8B10                   BF          L564
      dl2_main.c   304                                            if (page_now<0) page_now=0;
      dl2_main.c   305                                            else if (page_now>=page_size)page_now = page_size-1;
    000005E6 74FF                   ADD         #-1,R4
    000005E8 A00E                   BRA         L564
    000005EA 2E42                   MOV.L       R4,@R14
    000005EC              L689:                             
      dl2_main.c   306                                            file_pos = get_page_offset();
      dl2_main.c   307                                    }
      dl2_main.c   308                            }
      dl2_main.c   309                            else if (menu_index==1)
    000005EC DD1F                   MOV.L       L760+54,R13; _mark
    000005EE 6043                   MOV         R4,R0
    000005F0 8801                   CMP/EQ      #1,R0
    000005F2 8B0D                   BF          L695




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   20


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      dl2_main.c   310                            {
      dl2_main.c   311                                    r = select_page_mark ("读取书签");
    000005F4 DB1E                   MOV.L       L760+58,R11; L490
    000005F6 BE5B                   BSR         _select_page_mark
    000005F8 64B3                   MOV         R11,R4
      dl2_main.c   312                                    if (r!=-1)
    000005FA 88FF                   CMP/EQ      #-1,R0
    000005FC 8D18                   BT/S        L565
    000005FE 6403                   MOV         R0,R4
      dl2_main.c   313                                    {
      dl2_main.c   314                                            page_now = mark[r];
    00000600 6043                   MOV         R4,R0
    00000602 4008                   SHLL2       R0
    00000604 03DE                   MOV.L       @(R0,R13),R3
    00000606 2E32                   MOV.L       R3,@R14
    00000608              L564:
      dl2_main.c   315                                            file_pos = get_page_offset();
    00000608 BE2B                   BSR         _get_page_offset
    0000060A 0009                   NOP
    0000060C A010                   BRA         L565
    0000060E 2C02                   MOV.L       R0,@R12
    00000610              L695:                             
      dl2_main.c   316                                    }
      dl2_main.c   317                            }
      dl2_main.c   318                            else if (menu_index==2)
    00000610 8802                   CMP/EQ      #2,R0
    00000612 8B0A                   BF          L698
      dl2_main.c   319                            {
      dl2_main.c   320                                    r = select_page_mark ("保存书签");
    00000614 DB17                   MOV.L       L760+62,R11; L493
    00000616 BE4B                   BSR         _select_page_mark
    00000618 64B3                   MOV         R11,R4
      dl2_main.c   321                                    if (r!=-1)
    0000061A 88FF                   CMP/EQ      #-1,R0
    0000061C 8D08                   BT/S        L565
    0000061E 6403                   MOV         R0,R4
      dl2_main.c   322                                    {
      dl2_main.c   323                                            mark[r] = page_now;
    00000620 63E2                   MOV.L       @R14,R3
    00000622 6043                   MOV         R4,R0
    00000624 4008                   SHLL2       R0
    00000626 A003                   BRA         L565
    00000628 0D36                   MOV.L       R3,@(R0,R13)
    0000062A              L698:                             
      dl2_main.c   324                                    }
      dl2_main.c   325                            }
      dl2_main.c   326                            else if (menu_index==3)
    0000062A 6043                   MOV         R4,R0
    0000062C 8803                   CMP/EQ      #3,R0
    0000062E 8923                   BT          L702
    00000630              L565:
      dl2_main.c   327                            {
      dl2_main.c   328                                    break;
      dl2_main.c   329                            }
      dl2_main.c   330                            redraw = TRUE;
    00000630 E301                   MOV         #1,R3
    00000632 AEDE                   BRA         L670




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   21


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000634 1F34                   MOV.L       R3,@(16,R15)
    00000636              L760:                             
    00000636 7532                   .DATA.W     H'7532
    00000638 <00000000>             .DATA.L     _sys_font
    0000063C <00000000>             .DATA.L     _select_font
    00000640 <00000000>             .DATA.L     _sprintf
    00000644 <00000000>             .DATA.L     L481
    00000648 <00000000>             .DATA.L     _Bdisp_AllClr_VRAM
    0000064C <00000000>             .DATA.L     _print_chs_str
    00000650 <00000000>             .DATA.L     _READ_MENU_TEXT
    00000654 <00000000>             .DATA.L     L485
    00000658 <00000000>             .DATA.L     L484
    0000065C <00000000>             .DATA.L     _show_dialog
    00000660 <00000000>             .DATA.L     L486
    00000664 <00000000>             .DATA.L     _get_line_box
    00000668 <00000000>             .DATA.L     _atol
    0000066C <00000000>             .DATA.L     _mark
    00000670 <00000000>             .DATA.L     L490
    00000674 <00000000>             .DATA.L     L493
    00000678              L702:                             
      dl2_main.c   331                    }//
      dl2_main.c   332            }
      dl2_main.c   333    }
    00000678 914A                   MOV.W       L763,R1    ; H'0094
    0000067A 3F1C                   ADD         R1,R15
    0000067C 4F26                   LDS.L       @R15+,PR
    0000067E 68F6                   MOV.L       @R15+,R8
    00000680 69F6                   MOV.L       @R15+,R9
    00000682 6AF6                   MOV.L       @R15+,R10
    00000684 6BF6                   MOV.L       @R15+,R11
    00000686 6CF6                   MOV.L       @R15+,R12
    00000688 6DF6                   MOV.L       @R15+,R13
    0000068A 000B                   RTS
    0000068C 6EF6                   MOV.L       @R15+,R14
      dl2_main.c   334    
      dl2_main.c   335    void start_read_text (const char * t_file_name)
    0000068E              _start_read_text:                ; function: start_read_text
                                                           ; frame size=16
    0000068E 2FE6                   MOV.L       R14,@-R15
    00000690 2FD6                   MOV.L       R13,@-R15
    00000692 2FC6                   MOV.L       R12,@-R15
    00000694 4F22                   STS.L       PR,@-R15
      dl2_main.c   336    {
      dl2_main.c   337            file_name = t_file_name;
    00000696 D21F                   MOV.L       L763+4,R2  ; _file_name
      dl2_main.c   338    
      dl2_main.c   339            fh_txt = open_file(file_name,_OPENMODE_READ_SHARE);
    00000698 DC1F                   MOV.L       L763+8,R12 ; _fh_txt
    0000069A 953A                   MOV.W       L763+2,R5  ; H'0080
    0000069C D31F                   MOV.L       L763+12,R3 ; _open_file
    0000069E 430B                   JSR         @R3
    000006A0 2242                   MOV.L       R4,@R2
      dl2_main.c   340    
      dl2_main.c   341            if (fh_txt<0)
    000006A2 6203                   MOV         R0,R2
    000006A4 DD1E                   MOV.L       L763+16,R13; L500
    000006A6 4211                   CMP/PZ      R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   22


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000006A8 DE1E                   MOV.L       L763+20,R14; _show_dialog
    000006AA 8D04                   BT/S        L703
    000006AC 2C02                   MOV.L       R0,@R12
      dl2_main.c   342            {
      dl2_main.c   343                    show_dialog(" 错误 "," 找不到文件 ",DLG_ICON_WARN,DLG_BTN_OK);
    000006AE E702                   MOV         #2,R7
    000006B0 D51D                   MOV.L       L763+24,R5 ; L501
      dl2_main.c   344                    return;
    000006B2 A017                   BRA         L753
    000006B4 E603                   MOV         #3,R6
    000006B6              L703:                             
      dl2_main.c   345            }
      dl2_main.c   346    
      dl2_main.c   347            show_dialog(" 分页中 "," 请稍等 ",DLG_ICON_WAIT,0);putdisp();
    000006B6 E700                   MOV         #0,R7
    000006B8 D51C                   MOV.L       L763+28,R5 ; L503
    000006BA D41D                   MOV.L       L763+32,R4 ; L502
    000006BC 4E0B                   JSR         @R14
    000006BE E602                   MOV         #2,R6
    000006C0 D21C                   MOV.L       L763+36,R2 ; _Bdisp_PutDisp_DD
    000006C2 420B                   JSR         @R2
    000006C4 0009                   NOP
      dl2_main.c   348            switch(split_page ())
    000006C6 BD06                   BSR         _split_page
    000006C8 0009                   NOP
    000006CA 88FF                   CMP/EQ      #-1,R0
    000006CC 8903                   BT          L596
    000006CE 88FE                   CMP/EQ      #-2,R0
    000006D0 8905                   BT          L598
    000006D2 A00B                   BRA         L600
    000006D4 0009                   NOP
    000006D6              L596:                            ; case label 
      dl2_main.c   349            {
      dl2_main.c   350                    case -1:show_dialog(" 错误 "," 页数过多 ",DLG_ICON_WARN,DLG_BTN_OK);return;
    000006D6 E702                   MOV         #2,R7
    000006D8 D517                   MOV.L       L763+40,R5 ; L505
    000006DA A003                   BRA         L753
    000006DC E603                   MOV         #3,R6
    000006DE              L598:                            ; case label 
      dl2_main.c   351                    case -2:show_dialog(" 错误 "," 内存不足 ",DLG_ICON_WARN,DLG_BTN_OK);return;
    000006DE E702                   MOV         #2,R7
    000006E0 D516                   MOV.L       L763+44,R5 ; L506
    000006E2 E603                   MOV         #3,R6
    000006E4              L753:                             
    000006E4 4E0B                   JSR         @R14
    000006E6 64D3                   MOV         R13,R4
    000006E8 A00D                   BRA         L704
    000006EA 0009                   NOP
    000006EC              L600:                            ; default label 
      dl2_main.c   352                    default:;
      dl2_main.c   353            }
      dl2_main.c   354            read_page_mark();
    000006EC BCAF                   BSR         _read_page_mark
    000006EE 0009                   NOP
      dl2_main.c   355            start_read();
    000006F0 BE70                   BSR         _start_read
    000006F2 0009                   NOP




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   23


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      dl2_main.c   356            save_page_mark();
    000006F4 BC84                   BSR         _save_page_mark
    000006F6 0009                   NOP
      dl2_main.c   357            close_file(fh_txt);
    000006F8 64C2                   MOV.L       @R12,R4
    000006FA 4F26                   LDS.L       @R15+,PR
    000006FC D310                   MOV.L       L763+48,R3 ; _Bfile_CloseFile
    000006FE 6CF6                   MOV.L       @R15+,R12
    00000700 6DF6                   MOV.L       @R15+,R13
    00000702 432B                   JMP         @R3
    00000704 6EF6                   MOV.L       @R15+,R14
    00000706              L704:                             
      dl2_main.c   358    }
    00000706 4F26                   LDS.L       @R15+,PR
    00000708 6CF6                   MOV.L       @R15+,R12
    0000070A 6DF6                   MOV.L       @R15+,R13
    0000070C 000B                   RTS
    0000070E 6EF6                   MOV.L       @R15+,R14
    00000710              L763:                             
    00000710 0094                   .DATA.W     H'0094
    00000712 0080                   .DATA.W     H'0080
    00000714 <00000000>             .DATA.L     _file_name
    00000718 <00000000>             .DATA.L     _fh_txt
    0000071C <00000000>             .DATA.L     _open_file
    00000720 <00000000>             .DATA.L     L500
    00000724 <00000000>             .DATA.L     _show_dialog
    00000728 <00000000>             .DATA.L     L501
    0000072C <00000000>             .DATA.L     L503
    00000730 <00000000>             .DATA.L     L502
    00000734 <00000000>             .DATA.L     _Bdisp_PutDisp_DD
    00000738 <00000000>             .DATA.L     L505
    0000073C <00000000>             .DATA.L     L506
    00000740 <00000000>             .DATA.L     _Bfile_CloseFile
      dl2_main.c   359    
      dl2_main.c   360    int show_menu (int def_index,int count,const char * item[],int x,int y)
    00000744              _show_menu:                      ; function: show_menu
                                                           ; frame size=68
    00000744 2FE6                   MOV.L       R14,@-R15
      dl2_main.c   361    {
      dl2_main.c   362            int             width = 0,height,i,t,index = def_index;
    00000746 6E43                   MOV         R4,R14
      dl2_main.c   363            BOOL    redraw = TRUE;
      dl2_main.c   364            unsigned int key;
      dl2_main.c   365            
      dl2_main.c   366            select_font(sys_font);
    00000748 D346                   MOV.L       L764+6,R3  ; _sys_font
    0000074A 2FD6                   MOV.L       R13,@-R15
    0000074C 2FC6                   MOV.L       R12,@-R15
    0000074E ED00                   MOV         #0,R13
    00000750 D245                   MOV.L       L764+10,R2 ; _select_font
    00000752 EC01                   MOV         #1,R12
    00000754 2FB6                   MOV.L       R11,@-R15
    00000756 2FA6                   MOV.L       R10,@-R15
    00000758 2F96                   MOV.L       R9,@-R15
    0000075A 6A53                   MOV         R5,R10
    0000075C 2F86                   MOV.L       R8,@-R15
    0000075E 68D3                   MOV         R13,R8




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   24


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000760 4F22                   STS.L       PR,@-R15
    00000762 4F12                   STS.L       MACL,@-R15
    00000764 7FE4                   ADD         #-28,R15
    00000766 1F64                   MOV.L       R6,@(16,R15)
    00000768 1F71                   MOV.L       R7,@(4,R15)
    0000076A 420B                   JSR         @R2
    0000076C 6432                   MOV.L       @R3,R4
      dl2_main.c   367            
      dl2_main.c   368            for (i=0;i<count;++i)
    0000076E 6983                   MOV         R8,R9
    00000770 4A15                   CMP/PL      R10
    00000772 8F0B                   BF/S        L706
    00000774 5BF4                   MOV.L       @(16,R15),R11
    00000776              L707:                             
      dl2_main.c   369            {
      dl2_main.c   370                    t = get_str_width(item[i]);
    00000776 D23D                   MOV.L       L764+14,R2 ; _get_str_width
    00000778 420B                   JSR         @R2
    0000077A 64B2                   MOV.L       @R11,R4
    0000077C 6403                   MOV         R0,R4
      dl2_main.c   371                    if (t>width) width = t;
    0000077E 3487                   CMP/GT      R8,R4
    00000780 8F01                   BF/S        L708
    00000782 7901                   ADD         #1,R9
    00000784 6843                   MOV         R4,R8
    00000786              L708:                             
    00000786 39A3                   CMP/GE      R10,R9
    00000788 8FF5                   BF/S        L707
    0000078A 7B04                   ADD         #4,R11
    0000078C              L706:                             
      dl2_main.c   372            }
      dl2_main.c   373            width;
      dl2_main.c   374            height = count * sys_font->height ;
    0000078C D235                   MOV.L       L764+6,R2  ; _sys_font
      dl2_main.c   375            area_clear(x,y,x+width+1,y+height+1,2);
    0000078E E044                   MOV         #68,R0
    00000790 6322                   MOV.L       @R2,R3
    00000792 5136                   MOV.L       @(24,R3),R1
    00000794 D236                   MOV.L       L764+18,R2 ; _area_clear
    00000796 E302                   MOV         #2,R3
    00000798 0A17                   MUL.L       R1,R10
    0000079A 011A                   STS         MACL,R1
    0000079C 1F12                   MOV.L       R1,@(8,R15)
    0000079E 2F36                   MOV.L       R3,@-R15
    000007A0 07FE                   MOV.L       @(R0,R15),R7
    000007A2 E044                   MOV         #68,R0
    000007A4 371C                   ADD         R1,R7
    000007A6 7701                   ADD         #1,R7
    000007A8 1F74                   MOV.L       R7,@(16,R15)
    000007AA 5BF2                   MOV.L       @(8,R15),R11
    000007AC 05FE                   MOV.L       @(R0,R15),R5
    000007AE 66B3                   MOV         R11,R6
    000007B0 368C                   ADD         R8,R6
    000007B2 7601                   ADD         #1,R6
    000007B4 420B                   JSR         @R2
    000007B6 64B3                   MOV         R11,R4
    000007B8 7F04                   ADD         #4,R15




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   25


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000007BA 69B3                   MOV         R11,R9
    000007BC 7901                   ADD         #1,R9
    000007BE E040                   MOV         #64,R0
    000007C0 03FE                   MOV.L       @(R0,R15),R3
    000007C2 62A3                   MOV         R10,R2
    000007C4 7301                   ADD         #1,R3
    000007C6 72FF                   ADD         #-1,R2
    000007C8 1F35                   MOV.L       R3,@(20,R15)
    000007CA 1F26                   MOV.L       R2,@(24,R15)
      dl2_main.c   376            while(1)
    000007CC              L710:                             
      dl2_main.c   377            {
      dl2_main.c   378                    if (redraw)
    000007CC 2CC8                   TST         R12,R12
    000007CE 8930                   BT          L711
      dl2_main.c   379                    {
      dl2_main.c   380                            int cx = x+1,cy = y+1;
    000007D0 5BF5                   MOV.L       @(20,R15),R11
      dl2_main.c   381                            area_clear(x,y,x+width+1,y+height+1,2);
    000007D2 E302                   MOV         #2,R3
    000007D4 D226                   MOV.L       L764+18,R2 ; _area_clear
    000007D6 E044                   MOV         #68,R0
    000007D8 2F36                   MOV.L       R3,@-R15
    000007DA 57F4                   MOV.L       @(16,R15),R7
    000007DC 56F2                   MOV.L       @(8,R15),R6
    000007DE 368C                   ADD         R8,R6
    000007E0 05FE                   MOV.L       @(R0,R15),R5
    000007E2 7601                   ADD         #1,R6
    000007E4 420B                   JSR         @R2
    000007E6 54F2                   MOV.L       @(8,R15),R4
    000007E8 7F04                   ADD         #4,R15
      dl2_main.c   382                            for (i=0;i<count;++i)
    000007EA 6CD3                   MOV         R13,R12
    000007EC 6383                   MOV         R8,R3
    000007EE 339C                   ADD         R9,R3
    000007F0 73FF                   ADD         #-1,R3
    000007F2 4A15                   CMP/PL      R10
    000007F4 8F1C                   BF/S        L712
    000007F6 1F32                   MOV.L       R3,@(8,R15)
    000007F8              L713:                             
      dl2_main.c   383                            {
      dl2_main.c   384                                    print_chs_str(cx,cy,FALSE,item[i]);
    000007F8 50F4                   MOV.L       @(16,R15),R0
    000007FA E600                   MOV         #0,R6
    000007FC D31D                   MOV.L       L764+22,R3 ; _print_chs_str
    000007FE 67C3                   MOV         R12,R7
    00000800 4708                   SHLL2       R7
    00000802 65B3                   MOV         R11,R5
    00000804 077E                   MOV.L       @(R0,R7),R7
    00000806 430B                   JSR         @R3
    00000808 6493                   MOV         R9,R4
      dl2_main.c   385                                    if (index==i) area_rev(cx,cy,cx+width-1,cy+sys_font->height-1);
    0000080A 3EC0                   CMP/EQ      R12,R14
    0000080C 8B09                   BF          L714
    0000080E 65B3                   MOV         R11,R5
    00000810 D219                   MOV.L       L764+26,R2 ; _Bdisp_AreaReverseVRAM
    00000812 D314                   MOV.L       L764+6,R3  ; _sys_font




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   26


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000814 56F2                   MOV.L       @(8,R15),R6
    00000816 6732                   MOV.L       @R3,R7
    00000818 5776                   MOV.L       @(24,R7),R7
    0000081A 37BC                   ADD         R11,R7
    0000081C 77FF                   ADD         #-1,R7
    0000081E 420B                   JSR         @R2
    00000820 6493                   MOV         R9,R4
    00000822              L714:                             
    00000822 7C01                   ADD         #1,R12
      dl2_main.c   386                                    cy += sys_font->height;
    00000824 D20F                   MOV.L       L764+6,R2  ; _sys_font
    00000826 3CA3                   CMP/GE      R10,R12
    00000828 6322                   MOV.L       @R2,R3
    0000082A 5136                   MOV.L       @(24,R3),R1
    0000082C 8FE4                   BF/S        L713
    0000082E 3B1C                   ADD         R1,R11
    00000830              L712:                             
      dl2_main.c   387                            }
      dl2_main.c   388                            redraw = FALSE;
    00000830 6CD3                   MOV         R13,R12
    00000832              L711:                             
      dl2_main.c   389                    }
      dl2_main.c   390                    GetKey(&key);
    00000832 DB12                   MOV.L       L764+30,R11; _GetKey
    00000834 4B0B                   JSR         @R11
    00000836 64F3                   MOV         R15,R4
      dl2_main.c   391                    if (key==KEY_CTRL_UP)
    00000838 9411                   MOV.W       L764,R4    ; H'7542
    0000083A 62F2                   MOV.L       @R15,R2
    0000083C 3240                   CMP/EQ      R4,R2
    0000083E 8B04                   BF          L715
      dl2_main.c   392                    {
      dl2_main.c   393                            index--;if (index<0)index = count-1;
    00000840 7EFF                   ADD         #-1,R14
    00000842 4E11                   CMP/PZ      R14
    00000844 8909                   BT          L567
    00000846 A008                   BRA         L567
    00000848 5EF6                   MOV.L       @(24,R15),R14
    0000084A              L715:                             
      dl2_main.c   394                            redraw = TRUE;
      dl2_main.c   395                    }
      dl2_main.c   396                    else if (key==KEY_CTRL_DOWN)
    0000084A 9409                   MOV.W       L764+2,R4  ; H'7547
    0000084C 63F2                   MOV.L       @R15,R3
    0000084E 3340                   CMP/EQ      R4,R3
    00000850 8B16                   BF          L718
      dl2_main.c   397                    {
      dl2_main.c   398                            index++;if (index>=count)index = 0;
    00000852 7E01                   ADD         #1,R14
    00000854 3EA3                   CMP/GE      R10,R14
    00000856 8B00                   BF          L567
    00000858 6ED3                   MOV         R13,R14
    0000085A              L567:
      dl2_main.c   399                            redraw = TRUE;
    0000085A AFB7                   BRA         L710
    0000085C EC01                   MOV         #1,R12
    0000085E              L764:                             




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   27


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000085E 7542                   .DATA.W     H'7542
    00000860 7547                   .DATA.W     H'7547
    00000862 0000                   .DATA.W     0
    00000864 <00000000>             .DATA.L     _sys_font
    00000868 <00000000>             .DATA.L     _select_font
    0000086C <00000000>             .DATA.L     _get_str_width
    00000870 <00000000>             .DATA.L     _area_clear
    00000874 <00000000>             .DATA.L     _print_chs_str
    00000878 <00000000>             .DATA.L     _Bdisp_AreaReverseVRAM
    0000087C <00000000>             .DATA.L     _GetKey
    00000880              L718:                             
      dl2_main.c   400                    }
      dl2_main.c   401                    else if (key==KEY_CTRL_EXE)
    00000880 9452                   MOV.W       L765,R4    ; H'7534
    00000882 63F2                   MOV.L       @R15,R3
    00000884 3340                   CMP/EQ      R4,R3
    00000886 8B01                   BF          L721
      dl2_main.c   402                    {
      dl2_main.c   403                            return index;
    00000888 A005                   BRA         L722
    0000088A 60E3                   MOV         R14,R0
    0000088C              L721:                             
      dl2_main.c   404                    }
      dl2_main.c   405                    else if (key==KEY_CTRL_EXIT)
    0000088C 944D                   MOV.W       L765+2,R4  ; H'7532
    0000088E 62F2                   MOV.L       @R15,R2
    00000890 3240                   CMP/EQ      R4,R2
    00000892 8B9B                   BF          L710
      dl2_main.c   406                    {
      dl2_main.c   407                            return -1;
      dl2_main.c   408                    }
      dl2_main.c   409            }
      dl2_main.c   410            return -1;
    00000894 E0FF                   MOV         #-1,R0
      dl2_main.c   411    }
    00000896              L722:                             
    00000896 7F1C                   ADD         #28,R15
    00000898 4F16                   LDS.L       @R15+,MACL
    0000089A 4F26                   LDS.L       @R15+,PR
    0000089C 68F6                   MOV.L       @R15+,R8
    0000089E 69F6                   MOV.L       @R15+,R9
    000008A0 6AF6                   MOV.L       @R15+,R10
    000008A2 6BF6                   MOV.L       @R15+,R11
    000008A4 6CF6                   MOV.L       @R15+,R12
    000008A6 6DF6                   MOV.L       @R15+,R13
    000008A8 000B                   RTS
    000008AA 6EF6                   MOV.L       @R15+,R14
      dl2_main.c   412    
      dl2_main.c   413    int AddIn_main(int isAppli, unsigned short OptionNum)
    000008AC              _AddIn_main:                     ; function: AddIn_main
                                                           ; frame size=548
    000008AC 2FE6                   MOV.L       R14,@-R15
    000008AE 2FD6                   MOV.L       R13,@-R15
    000008B0 2FC6                   MOV.L       R12,@-R15
    000008B2 2FB6                   MOV.L       R11,@-R15
    000008B4 2FA6                   MOV.L       R10,@-R15
    000008B6 2F96                   MOV.L       R9,@-R15




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   28


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000008B8 2F86                   MOV.L       R8,@-R15
    000008BA 4F22                   STS.L       PR,@-R15
    000008BC 9036                   MOV.W       L765+4,R0  ; H'FE00
    000008BE 3F0C                   ADD         R0,R15
    000008C0 D81B                   MOV.L       L765+8,R8  ; _open_font
    000008C2 D91C                   MOV.L       L765+12,R9 ; L500
    000008C4 DB1C                   MOV.L       L765+16,R11; _usr_font
    000008C6 DC1D                   MOV.L       L765+20,R12; _show_dialog
      dl2_main.c   414    {
      dl2_main.c   415            int menu_index = 0,r,temp_file_name[128];
      dl2_main.c   416            
      dl2_main.c   417            //all_clr();
      dl2_main.c   418    
      dl2_main.c   419            sys_font = open_font(DEF_FONT_FILE_NAME);
    000008C8 D41D                   MOV.L       L765+24,R4 ; L537
    000008CA 480B                   JSR         @R8
    000008CC EE00                   MOV         #0,R14
      dl2_main.c   420            if (sys_font == NULL)
    000008CE 2008                   TST         R0,R0
    000008D0 D31C                   MOV.L       L765+28,R3 ; _sys_font
    000008D2 8F08                   BF/S        L725
    000008D4 2302                   MOV.L       R0,@R3
      dl2_main.c   421            {
      dl2_main.c   422                    printmini(0,0,(uchar*)DEF_FONT_FILE_NAME " not found.",MINI_OVER);
    000008D6 E710                   MOV         #16,R7
    000008D8 D61B                   MOV.L       L765+32,R6 ; L539
    000008DA E500                   MOV         #0,R5
    000008DC D11B                   MOV.L       L765+36,R1 ; _PrintMini
    000008DE 410B                   JSR         @R1
    000008E0 6453                   MOV         R5,R4
    000008E2 A00D                   BRA         L569
    000008E4 0009                   NOP
    000008E6              L725:                             
      dl2_main.c   423                    waitkey();
      dl2_main.c   424                    return 0;
      dl2_main.c   425            }
      dl2_main.c   426            usr_font = open_font("\\\\fls0\\FONT12.dlf");
    000008E6 D41A                   MOV.L       L765+40,R4 ; L540
    000008E8 480B                   JSR         @R8
    000008EA 0009                   NOP
      dl2_main.c   427            if (usr_font == NULL)
    000008EC 6203                   MOV         R0,R2
    000008EE 2228                   TST         R2,R2
    000008F0 8F0B                   BF/S        L727
    000008F2 2B02                   MOV.L       R0,@R11
      dl2_main.c   428            {
      dl2_main.c   429                    printmini(0,0,(uchar*)"FONT12.dlf not found.",MINI_OVER);
    000008F4 D617                   MOV.L       L765+44,R6 ; L542
    000008F6 E500                   MOV         #0,R5
    000008F8 D314                   MOV.L       L765+36,R3 ; _PrintMini
    000008FA E710                   MOV         #16,R7
    000008FC 430B                   JSR         @R3
    000008FE 6453                   MOV         R5,R4
    00000900              L569:
      dl2_main.c   430                    waitkey();
    00000900 D215                   MOV.L       L765+48,R2 ; _waitkey
    00000902 420B                   JSR         @R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   29


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000904 0009                   NOP
    00000906 A0B6                   BRA         L574
    00000908 0009                   NOP
    0000090A              L727:                             
      dl2_main.c   431                    return 0;
      dl2_main.c   432            }
      dl2_main.c   433            
      dl2_main.c   434            page_offset = (word*)calloc(PAGE_MAX,sizeof(word));
    0000090A 9410                   MOV.W       L765+6,R4  ; H'270F
    0000090C D313                   MOV.L       L765+52,R3 ; _calloc
    0000090E 430B                   JSR         @R3
    00000910 E502                   MOV         #2,R5
      dl2_main.c   435            if (page_offset==NULL)
    00000912 2008                   TST         R0,R0
    00000914 D212                   MOV.L       L765+56,R2 ; _page_offset
    00000916 8F27                   BF/S        L730
    00000918 2202                   MOV.L       R0,@R2
      dl2_main.c   436            {
      dl2_main.c   437                    show_dialog(" 错误 "," 内存不足 ",DLG_ICON_WARN,DLG_BTN_OK);
    0000091A E702                   MOV         #2,R7
    0000091C D511                   MOV.L       L765+60,R5 ; L506
    0000091E E603                   MOV         #3,R6
    00000920 4C0B                   JSR         @R12
    00000922 6493                   MOV         R9,R4
    00000924 A0A7                   BRA         L574
    00000926 0009                   NOP
    00000928              L765:                             
    00000928 7534                   .DATA.W     H'7534
    0000092A 7532                   .DATA.W     H'7532
    0000092C FE00                   .DATA.W     H'FE00
    0000092E 270F                   .DATA.W     H'270F
    00000930 <00000000>             .DATA.L     _open_font
    00000934 <00000000>             .DATA.L     L500
    00000938 <00000000>             .DATA.L     _usr_font
    0000093C <00000000>             .DATA.L     _show_dialog
    00000940 <00000000>             .DATA.L     L537
    00000944 <00000000>             .DATA.L     _sys_font
    00000948 <00000000>             .DATA.L     L539
    0000094C <00000000>             .DATA.L     _PrintMini
    00000950 <00000000>             .DATA.L     L540
    00000954 <00000000>             .DATA.L     L542
    00000958 <00000000>             .DATA.L     _waitkey
    0000095C <00000000>             .DATA.L     _calloc
    00000960 <00000000>             .DATA.L     _page_offset
    00000964 <00000000>             .DATA.L     L506
    00000968              L730:                             
      dl2_main.c   438                    return 0;
      dl2_main.c   439            }
      dl2_main.c   440    
      dl2_main.c   441            while (1)
      dl2_main.c   442            {
      dl2_main.c   443                    all_clr();
    00000968 DD30                   MOV.L       L766+2,R13 ; _Bdisp_AllClr_VRAM
    0000096A 4D0B                   JSR         @R13
    0000096C 0009                   NOP
      dl2_main.c   444                    PrintXY(0,0,"   DLiterature 2.1",0);
    0000096E E700                   MOV         #0,R7




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   30


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000970 DA2F                   MOV.L       L766+6,R10 ; L545
    00000972 6573                   MOV         R7,R5
    00000974 DD2F                   MOV.L       L766+10,R13; _PrintXY
    00000976 66A3                   MOV         R10,R6
    00000978 4D0B                   JSR         @R13
    0000097A 6473                   MOV         R7,R4
      dl2_main.c   445                    menu_index = show_menu (menu_index,5,MAIN_MENU_TEXT,24,16);
    0000097C DD2E                   MOV.L       L766+14,R13; _MAIN_MENU_TEXT
    0000097E E210                   MOV         #16,R2
    00000980 2F26                   MOV.L       R2,@-R15
    00000982 E718                   MOV         #24,R7
    00000984 66D3                   MOV         R13,R6
    00000986 E505                   MOV         #5,R5
    00000988 BEDC                   BSR         _show_menu
    0000098A 64E3                   MOV         R14,R4
    0000098C 7F04                   ADD         #4,R15
      dl2_main.c   446                    if (menu_index==-1) break;
    0000098E 88FF                   CMP/EQ      #-1,R0
    00000990 8D66                   BT/S        L732
    00000992 6E03                   MOV         R0,R14
      dl2_main.c   447                    else if (menu_index==0)
    00000994 DA29                   MOV.L       L766+18,R10; _file_view
    00000996 2EE8                   TST         R14,R14
    00000998 8F12                   BF/S        L734
    0000099A 6DF3                   MOV         R15,R13
      dl2_main.c   448                    {
      dl2_main.c   449                            r = file_view(1,"txt",temp_file_name);
    0000099C D528                   MOV.L       L766+22,R5 ; L547
    0000099E 66D3                   MOV         R13,R6
    000009A0 4A0B                   JSR         @R10
    000009A2 E401                   MOV         #1,R4
      dl2_main.c   450                            if (r==1)                       start_read_text(temp_file_name);
    000009A4 8801                   CMP/EQ      #1,R0
    000009A6 8D15                   BT/S        L568
    000009A8 6403                   MOV         R0,R4
      dl2_main.c   451                            else if (r==-1)         show_dialog(" 错误 "," 闪存中无此类文件 ",DLG_ICON_WARN,DL
                         +G_BTN_OK);
    000009AA 6043                   MOV         R4,R0
    000009AC 88FF                   CMP/EQ      #-1,R0
    000009AE 8BDB                   BF          L730
    000009B0 DD24                   MOV.L       L766+26,R13; L548
    000009B2 E702                   MOV         #2,R7
    000009B4 E603                   MOV         #3,R6
    000009B6 65D3                   MOV         R13,R5
    000009B8 4C0B                   JSR         @R12
    000009BA 6493                   MOV         R9,R4
    000009BC AFD4                   BRA         L730
    000009BE 0009                   NOP
    000009C0              L734:                             
      dl2_main.c   452                    }
      dl2_main.c   453                    else if (menu_index==1)
    000009C0 60E3                   MOV         R14,R0
    000009C2 8801                   CMP/EQ      #1,R0
    000009C4 8B15                   BF          L739
      dl2_main.c   454                    {
      dl2_main.c   455                            r = file_view(0,"txt",temp_file_name);
    000009C6 66D3                   MOV         R13,R6




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   31


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000009C8 D51D                   MOV.L       L766+22,R5 ; L547
    000009CA 4A0B                   JSR         @R10
    000009CC E400                   MOV         #0,R4
      dl2_main.c   456                            if (r==1)                       start_read_text(temp_file_name);
    000009CE 8801                   CMP/EQ      #1,R0
    000009D0 8F04                   BF/S        L740
    000009D2 6403                   MOV         R0,R4
    000009D4              L568:
    000009D4 BE5B                   BSR         _start_read_text
    000009D6 64D3                   MOV         R13,R4
    000009D8 AFC6                   BRA         L730
    000009DA 0009                   NOP
    000009DC              L740:                             
      dl2_main.c   457                            else if (r==-1)         show_dialog(" 错误 "," SD卡中无此类文件 ",DLG_ICON_WARN,DL
                         +G_BTN_OK);
    000009DC 6043                   MOV         R4,R0
    000009DE 88FF                   CMP/EQ      #-1,R0
    000009E0 8BC2                   BF          L730
    000009E2 E702                   MOV         #2,R7
    000009E4 DD18                   MOV.L       L766+30,R13; L550
    000009E6 E603                   MOV         #3,R6
    000009E8 65D3                   MOV         R13,R5
    000009EA 4C0B                   JSR         @R12
    000009EC 6493                   MOV         R9,R4
    000009EE AFBB                   BRA         L730
    000009F0 0009                   NOP
    000009F2              L739:                             
      dl2_main.c   458                    }
      dl2_main.c   459                    else if (menu_index==2)
    000009F2 8802                   CMP/EQ      #2,R0
    000009F4 8B0D                   BF          L744
      dl2_main.c   460                    {
      dl2_main.c   461                            r = file_view(0,"dlf",temp_file_name);
    000009F6 66D3                   MOV         R13,R6
    000009F8 D514                   MOV.L       L766+34,R5 ; L552
    000009FA 4A0B                   JSR         @R10
    000009FC E400                   MOV         #0,R4
      dl2_main.c   462                            if (r==1)
    000009FE 8801                   CMP/EQ      #1,R0
    00000A00 8FB2                   BF/S        L730
    00000A02 6403                   MOV         R0,R4
      dl2_main.c   463                            {
      dl2_main.c   464                                    close_font(usr_font);
    00000A04 D312                   MOV.L       L766+38,R3 ; _close_font
    00000A06 430B                   JSR         @R3
    00000A08 64B2                   MOV.L       @R11,R4
      dl2_main.c   465                                    usr_font = open_font(temp_file_name);
    00000A0A 480B                   JSR         @R8
    00000A0C 64D3                   MOV         R13,R4
    00000A0E AFAB                   BRA         L730
    00000A10 2B02                   MOV.L       R0,@R11
    00000A12              L744:                             
      dl2_main.c   466                            }
      dl2_main.c   467                    }
      dl2_main.c   468                    else if (menu_index==3)
    00000A12 60E3                   MOV         R14,R0
    00000A14 8803                   CMP/EQ      #3,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   32


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000A16 8B21                   BF          L747
      dl2_main.c   469                    {
      dl2_main.c   470                            // about
      dl2_main.c   471                            show_dialog(" 关于 ","DLv2.1,作者直径君和diaowinner,此程序以MPL开源,github.com/dia
                         +owinner/DL",0,DLG_BTN_OK);
    00000A18 DA0E                   MOV.L       L766+42,R10; L555
    00000A1A E702                   MOV         #2,R7
    00000A1C DD0E                   MOV.L       L766+46,R13; L556
    00000A1E E600                   MOV         #0,R6
    00000A20 65D3                   MOV         R13,R5
    00000A22 4C0B                   JSR         @R12
    00000A24 64A3                   MOV         R10,R4
    00000A26 AF9F                   BRA         L730
    00000A28 0009                   NOP
    00000A2A              L766:                             
    00000A2A 0000                   .DATA.W     0
    00000A2C <00000000>             .DATA.L     _Bdisp_AllClr_VRAM
    00000A30 <00000000>             .DATA.L     L545
    00000A34 <00000000>             .DATA.L     _PrintXY
    00000A38 <00000000>             .DATA.L     _MAIN_MENU_TEXT
    00000A3C <00000000>             .DATA.L     _file_view
    00000A40 <00000000>             .DATA.L     L547
    00000A44 <00000000>             .DATA.L     L548
    00000A48 <00000000>             .DATA.L     L550
    00000A4C <00000000>             .DATA.L     L552
    00000A50 <00000000>             .DATA.L     _close_font
    00000A54 <00000000>             .DATA.L     L555
    00000A58 <00000000>             .DATA.L     L556
    00000A5C              L747:                             
      dl2_main.c   472                    }
      dl2_main.c   473                    else if (menu_index==4)
    00000A5C 8804                   CMP/EQ      #4,R0
    00000A5E 8B83                   BF          L730
    00000A60              L732:                             
      dl2_main.c   474                            break;
      dl2_main.c   475            }
      dl2_main.c   476            // clean up
      dl2_main.c   477            free(page_offset);
    00000A60 D30B                   MOV.L       L767+2,R3  ; _page_offset
    00000A62 D20C                   MOV.L       L767+6,R2  ; _free
    00000A64 420B                   JSR         @R2
    00000A66 6432                   MOV.L       @R3,R4
      dl2_main.c   478            close_font(sys_font);
    00000A68 D10B                   MOV.L       L767+10,R1 ; _sys_font
    00000A6A D30C                   MOV.L       L767+14,R3 ; _close_font
    00000A6C 430B                   JSR         @R3
    00000A6E 6412                   MOV.L       @R1,R4
      dl2_main.c   479            close_font(usr_font);
    00000A70 D20A                   MOV.L       L767+14,R2 ; _close_font
    00000A72 420B                   JSR         @R2
    00000A74 64B2                   MOV.L       @R11,R4
    00000A76              L574:
      dl2_main.c   480    
      dl2_main.c   481            return 0;
    00000A76 E000                   MOV         #0,R0
      dl2_main.c   482    }
    00000A78 9109                   MOV.W       L767,R1    ; H'0200




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   33


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000A7A 3F1C                   ADD         R1,R15
    00000A7C 4F26                   LDS.L       @R15+,PR
    00000A7E 68F6                   MOV.L       @R15+,R8
    00000A80 69F6                   MOV.L       @R15+,R9
    00000A82 6AF6                   MOV.L       @R15+,R10
    00000A84 6BF6                   MOV.L       @R15+,R11
    00000A86 6CF6                   MOV.L       @R15+,R12
    00000A88 6DF6                   MOV.L       @R15+,R13
    00000A8A 000B                   RTS
    00000A8C 6EF6                   MOV.L       @R15+,R14
    00000A8E              L767:                             
    00000A8E 0200                   .DATA.W     H'0200
    00000A90 <00000000>             .DATA.L     _page_offset
    00000A94 <00000000>             .DATA.L     _free
    00000A98 <00000000>             .DATA.L     _sys_font
    00000A9C <00000000>             .DATA.L     _close_font
      dl2_main.c   483    
      dl2_main.c   484    
      dl2_main.c   485    
      dl2_main.c   486    
      dl2_main.c   487    
      dl2_main.c   488    
      dl2_main.c   489    #pragma section _BR_Size
      dl2_main.c   490    unsigned long BR_Size;
      dl2_main.c   491    #pragma section
      dl2_main.c   492    #pragma section _TOP
      dl2_main.c   493    int InitializeSystem(int isAppli, unsigned short OptionNum)
P_T 00000000              _InitializeSystem:               ; function: InitializeSystem
                                                           ; frame size=0
      dl2_main.c   494    {
      dl2_main.c   495        return INIT_ADDIN_APPLICATION(isAppli, OptionNum);
    00000000 D301                   MOV.L       L768+2,R3  ; _INIT_ADDIN_APPLICATION
    00000002 432B                   JMP         @R3
    00000004 0009                   NOP
    00000006              L768:                             
    00000006 0000                   .DATA.W     0
    00000008 <00000000>             .DATA.L     _INIT_ADDIN_APPLICATION
      dl2_main.c   496    }
      dl2_main.c   497    #pragma section
      dl2_main.c   498    
D   00000000              _page_size:                      ; static: page_size
    00000000 00000000               .DATA.L     H'00000000
    00000004              _page_now:                       ; static: page_now
    00000004 00000000               .DATA.L     H'00000000
    00000008              _file_size:                      ; static: file_size
    00000008 00000000               .DATA.L     H'00000000
    0000000C              _file_pos:                       ; static: file_pos
    0000000C 00000000               .DATA.L     H'00000000
    00000010              _fh_txt:                         ; static: fh_txt
    00000010 00000000               .DATA.L     H'00000000
    00000014              _MAIN_MENU_TEXT:                 ; static: MAIN_MENU_TEXT
    00000014 <00000000>             .DATA.L     L391,L392,L393,L394,L395
             <00000000>   
             <00000000>   
             <00000000>   
             <00000000>   
    00000028              _READ_MENU_TEXT:                 ; static: READ_MENU_TEXT




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   34


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000028 <00000000>             .DATA.L     L397,L398,L399,L395
             <00000000>   
             <00000000>   
             <00000000>   
C   00000000              L404:
    00000000 2E747874               .SDATA      ".txt"
    00000004 00                     .DATA.B     H'00
    00000005 00000001               .RES.B      1
    00000006 00000002               .RES.W      1
    00000008              L405:
    00000008 2E737674               .SDATA      ".svt"
    0000000C 00                     .DATA.B     H'00
    0000000D 00000001               .RES.B      1
    0000000E 00000002               .RES.W      1
    00000010              L455:
    00000010 202D25642D             .SDATA      " -%d- %04d/%04d  "
             2025303464   
             2F25303464   
             2020         
    00000021 00                     .DATA.B     H'00
    00000022 00000002               .RES.W      1
    00000024              L481:
    00000024 2020                   .SDATA      "  "
    00000026 B5B1C7B0D2             .DATA.B     H'B5,H'B1,H'C7,H'B0,H'D2,H'B3
             B3           
    0000002C 253034642F             .SDATA      "%04d/%04d"
             25303464     
    00000035 00                     .DATA.B     H'00
    00000036 00000002               .RES.W      1
    00000038              L484:
    00000038 00                     .DATA.B     H'00
    00000039 00000001               .RES.B      1
    0000003A 00000002               .RES.W      1
    0000003C              L485:
    0000003C 20                     .SDATA      " "
    0000003D CAE4C8EBD2             .DATA.B     H'CA,H'E4,H'C8,H'EB,H'D2,H'B3,H'C2,H'EB
             B3C2EB       
    00000045 20                     .SDATA      " "
    00000046 00                     .DATA.B     H'00
    00000047 00000001               .RES.B      1
    00000048              L486:
    00000048 2564                   .SDATA      "%d"
    0000004A 00                     .DATA.B     H'00
    0000004B 00000001               .RES.B      1
    0000004C              L490:
    0000004C B6C1C8A1CA             .DATA.B     H'B6,H'C1,H'C8,H'A1,H'CA,H'E9,H'C7,H'A9,H'00
             E9C7A900     
    00000055 00000001               .RES.B      1
    00000056 00000002               .RES.W      1
    00000058              L493:
    00000058 B1A3B4E6CA             .DATA.B     H'B1,H'A3,H'B4,H'E6,H'CA,H'E9,H'C7,H'A9,H'00
             E9C7A900     
    00000061 00000001               .RES.B      1
    00000062 00000002               .RES.W      1
    00000064              L500:
    00000064 20                     .SDATA      " "
    00000065 B4EDCEF3               .DATA.B     H'B4,H'ED,H'CE,H'F3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   35


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000069 20                     .SDATA      " "
    0000006A 00                     .DATA.B     H'00
    0000006B 00000001               .RES.B      1
    0000006C              L501:
    0000006C 20                     .SDATA      " "
    0000006D D5D2B2BBB5             .DATA.B     H'D5,H'D2,H'B2,H'BB,H'B5,H'BD,H'CE,H'C4,H'BC,H'FE
             BDCEC4BCFE   
    00000077 20                     .SDATA      " "
    00000078 00                     .DATA.B     H'00
    00000079 00000001               .RES.B      1
    0000007A 00000002               .RES.W      1
    0000007C              L502:
    0000007C 20                     .SDATA      " "
    0000007D B7D6D2B3D6             .DATA.B     H'B7,H'D6,H'D2,H'B3,H'D6,H'D0
             D0           
    00000083 20                     .SDATA      " "
    00000084 00                     .DATA.B     H'00
    00000085 00000001               .RES.B      1
    00000086 00000002               .RES.W      1
    00000088              L503:
    00000088 20                     .SDATA      " "
    00000089 C7EBC9D4B5             .DATA.B     H'C7,H'EB,H'C9,H'D4,H'B5,H'C8
             C8           
    0000008F 20                     .SDATA      " "
    00000090 00                     .DATA.B     H'00
    00000091 00000001               .RES.B      1
    00000092 00000002               .RES.W      1
    00000094              L505:
    00000094 20                     .SDATA      " "
    00000095 D2B3CAFDB9             .DATA.B     H'D2,H'B3,H'CA,H'FD,H'B9,H'FD,H'B6,H'E0
             FDB6E0       
    0000009D 20                     .SDATA      " "
    0000009E 00                     .DATA.B     H'00
    0000009F 00000001               .RES.B      1
    000000A0              L506:
    000000A0 20                     .SDATA      " "
    000000A1 C4DAB4E6B2             .DATA.B     H'C4,H'DA,H'B4,H'E6,H'B2,H'BB,H'D7,H'E3
             BBD7E3       
    000000A9 20                     .SDATA      " "
    000000AA 00                     .DATA.B     H'00
    000000AB 00000001               .RES.B      1
    000000AC              L537:
    000000AC 5C5C666C73             .SDATA      "\\fls0\FONT8.dlf"
             305C464F4E   
             54382E646C   
             66           
    000000BC 00                     .DATA.B     H'00
    000000BD 00000001               .RES.B      1
    000000BE 00000002               .RES.W      1
    000000C0              L539:
    000000C0 5C5C666C73             .SDATA      "\\fls0\FONT8.dlf not found."
             305C464F4E   
             54382E646C   
             66206E6F74   
             20666F756E   
             642E         
    000000DB 00                     .DATA.B     H'00




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   36


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000000DC              L540:
    000000DC 5C5C666C73             .SDATA      "\\fls0\FONT12.dlf"
             305C464F4E   
             5431322E64   
             6C66         
    000000ED 00                     .DATA.B     H'00
    000000EE 00000002               .RES.W      1
    000000F0              L542:
    000000F0 464F4E5431             .SDATA      "FONT12.dlf not found."
             322E646C66   
             206E6F7420   
             666F756E64   
             2E           
    00000105 00                     .DATA.B     H'00
    00000106 00000002               .RES.W      1
    00000108              L545:
    00000108 202020444C             .SDATA      "   DLiterature 2.1"
             6974657261   
             7475726520   
             322E31       
    0000011A 00                     .DATA.B     H'00
    0000011B 00000001               .RES.B      1
    0000011C              L547:
    0000011C 747874                 .SDATA      "txt"
    0000011F 00                     .DATA.B     H'00
    00000120              L548:
    00000120 20                     .SDATA      " "
    00000121 C9C1B4E6D6             .DATA.B     H'C9,H'C1,H'B4,H'E6,H'D6,H'D0,H'CE,H'DE,H'B4,H'CB,H'C0,H'E0,H'CE,H'C4,H'BC,H'FE
             D0CEDEB4CB   
             C0E0CEC4BC   
             FE           
    00000131 20                     .SDATA      " "
    00000132 00                     .DATA.B     H'00
    00000133 00000001               .RES.B      1
    00000134              L550:
    00000134 205344                 .SDATA      " SD"
    00000137 BFA8D6D0CE             .DATA.B     H'BF,H'A8,H'D6,H'D0,H'CE,H'DE,H'B4,H'CB,H'C0,H'E0,H'CE,H'C4,H'BC,H'FE
             DEB4CBC0E0   
             CEC4BCFE     
    00000145 20                     .SDATA      " "
    00000146 00                     .DATA.B     H'00
    00000147 00000001               .RES.B      1
    00000148              L552:
    00000148 646C66                 .SDATA      "dlf"
    0000014B 00                     .DATA.B     H'00
    0000014C              L555:
    0000014C 20                     .SDATA      " "
    0000014D B9D8D3DA               .DATA.B     H'B9,H'D8,H'D3,H'DA
    00000151 20                     .SDATA      " "
    00000152 00                     .DATA.B     H'00
    00000153 00000001               .RES.B      1
    00000154              L556:
    00000154 444C76322E             .SDATA      "DLv2.1,"
             312C         
    0000015B D7F7D5DFD6             .DATA.B     H'D7,H'F7,H'D5,H'DF,H'D6,H'B1,H'BE,H'B6,H'BE,H'FD,H'BA,H'CD
             B1BEB6BEFD   
             BACD         




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   37


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000167 6469616F77             .SDATA      "diaowinner,"
             696E6E6572   
             2C           
    00000172 B4CBB3CCD0             .DATA.B     H'B4,H'CB,H'B3,H'CC,H'D0,H'F2,H'D2,H'D4
             F2D2D4       
    0000017A 4D504C                 .SDATA      "MPL"
    0000017D BFAAD4B4               .DATA.B     H'BF,H'AA,H'D4,H'B4
    00000181 2C67697468             .SDATA      ",github.com/diaowinner/DL"
             75622E636F   
             6D2F646961   
             6F77696E6E   
             65722F444C   
    0000019A 00                     .DATA.B     H'00
    0000019B 00000001               .RES.B      1
    0000019C              L391:
    0000019C 20                     .SDATA      " "
    0000019D B4F2BFAAC9             .DATA.B     H'B4,H'F2,H'BF,H'AA,H'C9,H'C1,H'B4,H'E6,H'CE,H'C4,H'BC,H'FE
             C1B4E6CEC4   
             BCFE         
    000001A9 20                     .SDATA      " "
    000001AA 00                     .DATA.B     H'00
    000001AB 00000001               .RES.B      1
    000001AC              L392:
    000001AC 20                     .SDATA      " "
    000001AD B4F2BFAA               .DATA.B     H'B4,H'F2,H'BF,H'AA
    000001B1 5344                   .SDATA      "SD"
    000001B3 BFA8CEC4BC             .DATA.B     H'BF,H'A8,H'CE,H'C4,H'BC,H'FE
             FE           
    000001B9 20                     .SDATA      " "
    000001BA 00                     .DATA.B     H'00
    000001BB 00000001               .RES.B      1
    000001BC              L393:
    000001BC 20                     .SDATA      " "
    000001BD B8FCBBBBD4             .DATA.B     H'B8,H'FC,H'BB,H'BB,H'D4,H'C4,H'B6,H'C1,H'D7,H'D6,H'CC,H'E5
             C4B6C1D7D6   
             CCE5         
    000001C9 20                     .SDATA      " "
    000001CA 00                     .DATA.B     H'00
    000001CB 00000001               .RES.B      1
    000001CC              L394:
    000001CC 20                     .SDATA      " "
    000001CD B9D8D3DAB3             .DATA.B     H'B9,H'D8,H'D3,H'DA,H'B3,H'CC,H'D0,H'F2
             CCD0F2       
    000001D5 20                     .SDATA      " "
    000001D6 00                     .DATA.B     H'00
    000001D7 00000001               .RES.B      1
    000001D8              L395:
    000001D8 20                     .SDATA      " "
    000001D9 CDCBB3F6               .DATA.B     H'CD,H'CB,H'B3,H'F6
    000001DD 20                     .SDATA      " "
    000001DE 00                     .DATA.B     H'00
    000001DF 00000001               .RES.B      1
    000001E0              L397:
    000001E0 20                     .SDATA      " "
    000001E1 CCF8D2B3               .DATA.B     H'CC,H'F8,H'D2,H'B3
    000001E5 20                     .SDATA      " "
    000001E6 00                     .DATA.B     H'00




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE   38


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000001E7 00000001               .RES.B      1
    000001E8              L398:
    000001E8 20                     .SDATA      " "
    000001E9 B6C1C8A1CA             .DATA.B     H'B6,H'C1,H'C8,H'A1,H'CA,H'E9,H'C7,H'A9
             E9C7A9       
    000001F1 20                     .SDATA      " "
    000001F2 00                     .DATA.B     H'00
    000001F3 00000001               .RES.B      1
    000001F4              L399:
    000001F4 20                     .SDATA      " "
    000001F5 B1A3B4E6CA             .DATA.B     H'B1,H'A3,H'B4,H'E6,H'CA,H'E9,H'C7,H'A9
             E9C7A9       
    000001FD 20                     .SDATA      " "
    000001FE 00                     .DATA.B     H'00
B   00000000              _page_offset:                    ; static: page_offset
    00000000 00000004               .RES.L      1
    00000004              _file_name:                      ; static: file_name
    00000004 00000004               .RES.L      1
    00000008              _mark:                           ; static: mark
    00000008 00000014               .RES.L      5
B_B 00000000              _BR_Size:                        ; static: BR_Size
    00000000 00000004               .RES.L      1







































SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 10-Apr-2020 21:05:06  PAGE    1


******** STATISTICS INFORMATION ********


********** ERROR INFORMATION ***********

NUMBER OF ERRORS:           0
NUMBER OF WARNINGS:        31




******* SOURCE LINE INFORMATION ********

COMPILED SOURCE LINE:      498



******* SECTION SIZE INFORMATION *******

PROGRAM  SECTION (P):                               00000AA0 Byte(s)
PROGRAM  SECTION (P_BR_Size):                       00000000 Byte(s)
PROGRAM  SECTION (P_TOP):                           0000000C Byte(s)
CONSTANT SECTION (C):                               000001FF Byte(s)
CONSTANT SECTION (C_BR_Size):                       00000000 Byte(s)
CONSTANT SECTION (C_TOP):                           00000000 Byte(s)
DATA     SECTION (D):                               00000038 Byte(s)
DATA     SECTION (D_BR_Size):                       00000000 Byte(s)
DATA     SECTION (D_TOP):                           00000000 Byte(s)
BSS      SECTION (B):                               0000001C Byte(s)
BSS      SECTION (B_BR_Size):                       00000004 Byte(s)
BSS      SECTION (B_TOP):                           00000000 Byte(s)

 TOTAL PROGRAM SIZE: 00000D03 Byte(s)



********** LABEL INFORMATION ***********

NUMBER OF EXTERNAL REFERENCE SYMBOLS:           35
NUMBER OF EXTERNAL DEFINITION SYMBOLS:          21
NUMBER OF INTERNAL/EXTERNAL SYMBOLS:           177






















*** COMMAND PARAMETER ***


  -subcommand=C:\Users\ADMINI~1\AppData\Local\Temp\hmkC0CA.tmp 

